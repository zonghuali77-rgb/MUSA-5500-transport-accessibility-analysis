[
  {
    "objectID": "website/results.html",
    "href": "website/results.html",
    "title": "Results",
    "section": "",
    "text": "This section presents a cross-city comparison of bus stop density and walk-based accessibility indicators. While the underlying methods are consistent across all cities, interpretation must consider each city‚Äôs unique transit system design, land-use context, and service philosophy.\n\n\n\nThe figure below compares bus stop density (stops per km¬≤) across the four cities.\n\n\n\nThe four cities show substantial variation in bus stop density:\n\nSingapore (6.58 stops/km¬≤) has the highest density, reflecting\nits highly planned, fully government-coordinated trunk‚Äìfeeder system.\nSingapore‚Äôs Land Transport Authority places stops at regular intervals (~200‚Äì400 m), creating a uniformly fine-grained bus network optimized for walkability and MRT transfer.\nAmsterdam (4.7 stops/km¬≤) also exhibits a dense stop pattern,\nespecially within its compact historical core. Its transit system is multi-modal (bus + tram + metro), and bus services supplement tram corridors, producing dense central coverage.\nShanghai (3.34 stops/km¬≤) appears moderate, but the number masks its huge geographic area (6955 km¬≤).\nWithin the dense central districts (Puxi/Pudong), stop spacing is actually very tight, but the municipal boundary includes vast low-density industrial and rural zones, lowering the citywide average.\nNew York City (2.48 stops/km¬≤) shows the lowest density.\nNYC buses primarily serve as a surface transit network parallel to the extensive subway system. Additionally, wide arterial blocks‚Äîespecially in Manhattan and parts of Queens/Brooklyn‚Äînaturally result in fewer intersections and therefore fewer stop locations.\n\n\n\n\nBus stop density reflects urban form and planning philosophy, not merely transit supply:\n\nCentralised planning ‚Üí uniform high density (Singapore)\n\nHistoric compactness + multimodal layering ‚Üí medium high (Amsterdam)\n\nVery large administrative boundaries ‚Üí moderate composite density (Shanghai)\n\nSubway-dominant network ‚Üí lower bus density (NYC)\n\n\n\n\n\n\nThe table summarises total area, number of stops, and density for each city.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCity\nArea (km¬≤)\nStops\nDensity (per km¬≤)\nInterpretation\n\n\n\n\nNYC\n1362.7\n3381\n2.48\nLow density, reflecting subway dominance; buses fill gaps in outer boroughs more than the Manhattan core.\n\n\nSingapore\n784.9\n5161\n6.58\nNational-level planning produces evenly distributed stops and short spacing.\n\n\nAmsterdam\n243.7\n1145\n4.70\nSmall, dense city with complementary tram/bus system.\n\n\nShanghai\n6955.7\n23229\n3.34\nHigh bus supply diluted across enormous urban‚Äìrural municipal territory.\n\n\n\n\n\n\n\nAdministrative scale is critical:\nShanghai‚Äôs area is nearly 30√ó Amsterdam but does not have 30√ó more stops.\nModal hierarchy affects bus density:\nCities where buses are primary transport (Singapore) naturally build higher stop density than cities where buses provide coverage between rail corridors (NYC).\nStreet pattern differences:\n\nGrid-like cities (NYC) ‚Üí fewer intersections per km¬≤\n\nOrganic/medieval European cores (Amsterdam) ‚Üí more intersections ‚Üí more stop opportunities\n\n\n\n\n\n\n\nThis table reports 500 m coverage, covered area, and nearest-neighbour distance statistics for each city.\n\n\n\nDespite strong differences in bus stop density, all four cities achieve similar 500 m walking coverage (55‚Äì57%).\nThis is an important insight:\nüìå High density does not automatically translate into proportionally higher coverage.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCity\nCoverage Ratio\nInterpretation\n\n\n\n\nAmsterdam (56.8%)\nSlightly highest due to dense centre and small municipal area‚Äîbus stops can reach a large share of the city surface.\n\n\n\nNYC (56.1%)\nDespite low stop density, NYC achieves good coverage because built-up land is concentrated and bus routes traverse dense blocks.\n\n\n\nSingapore (55.9%)\nEven planning leads to consistent accessibility island-wide.\n\n\n\nShanghai (55.2%)\nSimilar coverage, but diluted by massive suburban/rural tracts.\n\n\n\n\nWhy similar?\nLarge uninhabited land (NYC parks, Shanghai farmland, Amsterdam waterways)\ndilutes the ratio when calculated using full administrative boundaries.\nThus, coverage of populated areas is likely much higher.\n\n\n\n\nUnsurprisingly dominated by city size:\n\nShanghai (3840 km¬≤) dwarfs the others‚Äîindicating extensive surface transit.\n\nNYC (764.6 km¬≤) also large due to long bus corridors through Bronx, Queens, and Brooklyn.\n\nSingapore (438.7 km¬≤) matches its compact island size.\n\nAmsterdam (138.3 km¬≤) is smallest but proportionally highly accessible.\n\n\n\n\n\nThis metric reflects bus stop spacing, a strong indicator of walkability.\n\n\n\n\n\n\n\n\nCity\nMean NN Dist (m)\nInterpretation\n\n\n\n\nAmsterdam (63 m)\nExceptionally short spacing; bus and tram stops form a tight mesh.\n\n\n\nSingapore (79 m)\nShort and regular stop spacing consistent with national standards.\n\n\n\nShanghai (91 m)\nDense inner-city spacing but wider intervals in outer districts.\n\n\n\nNYC (183 m)\nLongest spacing; wide blocks and the presence of the subway reduce need for close bus spacing.\n\n\n\n\nThe 90th percentile values reinforce this pattern:\n\nNYC 393 m ‚Üí Large variations between dense Manhattan vs.¬†wide Queens/Brooklyn arterials\n\nAmsterdam 134 m, Singapore 161 m ‚Üí Stable, predictable spacing\n\nShanghai 201 m ‚Üí Reflects mixed urban/suburban structure\n\n\n\n\n\n\nCities with integrated multimodal systems (Amsterdam, Singapore) show\nuniformly short nearest-neighbour distances and fine-grained coverage.\nNYC‚Äôs long NN distances are a direct function of:\n\nsubway dominance,\nlarge block lengths,\na bus system designed for coverage‚Äînot fine-grained walkability.\n\nShanghai‚Äôs mixed-range NN distances reflect:\n\nhighly urbanized districts with dense stops,\nlarge exurban areas with coarse spacing.\n\n\n\n\n\n\n\n\n\nAll four cities achieve similar 500 m coverage despite large differences in stop density.\n\n\n\n\nSingapore: Regular spacing due to planned trunk‚Äìfeeder design\n\nAmsterdam: Tight spacing in compact historic fabric\n\nNYC: Bus network plays secondary role next to subway\n\nShanghai: Municipal boundaries hide large intra-city variation\n\n\n\n\nNN distance is a better indicator of street-level accessibility than raw density."
  },
  {
    "objectID": "website/results.html#bus-stop-density",
    "href": "website/results.html#bus-stop-density",
    "title": "Results",
    "section": "",
    "text": "The figure below compares bus stop density (stops per km¬≤) across the four cities.\n\n\n\nThe four cities show substantial variation in bus stop density:\n\nSingapore (6.58 stops/km¬≤) has the highest density, reflecting\nits highly planned, fully government-coordinated trunk‚Äìfeeder system.\nSingapore‚Äôs Land Transport Authority places stops at regular intervals (~200‚Äì400 m), creating a uniformly fine-grained bus network optimized for walkability and MRT transfer.\nAmsterdam (4.7 stops/km¬≤) also exhibits a dense stop pattern,\nespecially within its compact historical core. Its transit system is multi-modal (bus + tram + metro), and bus services supplement tram corridors, producing dense central coverage.\nShanghai (3.34 stops/km¬≤) appears moderate, but the number masks its huge geographic area (6955 km¬≤).\nWithin the dense central districts (Puxi/Pudong), stop spacing is actually very tight, but the municipal boundary includes vast low-density industrial and rural zones, lowering the citywide average.\nNew York City (2.48 stops/km¬≤) shows the lowest density.\nNYC buses primarily serve as a surface transit network parallel to the extensive subway system. Additionally, wide arterial blocks‚Äîespecially in Manhattan and parts of Queens/Brooklyn‚Äînaturally result in fewer intersections and therefore fewer stop locations.\n\n\n\n\nBus stop density reflects urban form and planning philosophy, not merely transit supply:\n\nCentralised planning ‚Üí uniform high density (Singapore)\n\nHistoric compactness + multimodal layering ‚Üí medium high (Amsterdam)\n\nVery large administrative boundaries ‚Üí moderate composite density (Shanghai)\n\nSubway-dominant network ‚Üí lower bus density (NYC)"
  },
  {
    "objectID": "website/results.html#density-summary-table",
    "href": "website/results.html#density-summary-table",
    "title": "Results",
    "section": "",
    "text": "The table summarises total area, number of stops, and density for each city.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCity\nArea (km¬≤)\nStops\nDensity (per km¬≤)\nInterpretation\n\n\n\n\nNYC\n1362.7\n3381\n2.48\nLow density, reflecting subway dominance; buses fill gaps in outer boroughs more than the Manhattan core.\n\n\nSingapore\n784.9\n5161\n6.58\nNational-level planning produces evenly distributed stops and short spacing.\n\n\nAmsterdam\n243.7\n1145\n4.70\nSmall, dense city with complementary tram/bus system.\n\n\nShanghai\n6955.7\n23229\n3.34\nHigh bus supply diluted across enormous urban‚Äìrural municipal territory.\n\n\n\n\n\n\n\nAdministrative scale is critical:\nShanghai‚Äôs area is nearly 30√ó Amsterdam but does not have 30√ó more stops.\nModal hierarchy affects bus density:\nCities where buses are primary transport (Singapore) naturally build higher stop density than cities where buses provide coverage between rail corridors (NYC).\nStreet pattern differences:\n\nGrid-like cities (NYC) ‚Üí fewer intersections per km¬≤\n\nOrganic/medieval European cores (Amsterdam) ‚Üí more intersections ‚Üí more stop opportunities"
  },
  {
    "objectID": "website/results.html#detailed-accessibility-indicators",
    "href": "website/results.html#detailed-accessibility-indicators",
    "title": "Results",
    "section": "",
    "text": "This table reports 500 m coverage, covered area, and nearest-neighbour distance statistics for each city.\n\n\n\nDespite strong differences in bus stop density, all four cities achieve similar 500 m walking coverage (55‚Äì57%).\nThis is an important insight:\nüìå High density does not automatically translate into proportionally higher coverage.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCity\nCoverage Ratio\nInterpretation\n\n\n\n\nAmsterdam (56.8%)\nSlightly highest due to dense centre and small municipal area‚Äîbus stops can reach a large share of the city surface.\n\n\n\nNYC (56.1%)\nDespite low stop density, NYC achieves good coverage because built-up land is concentrated and bus routes traverse dense blocks.\n\n\n\nSingapore (55.9%)\nEven planning leads to consistent accessibility island-wide.\n\n\n\nShanghai (55.2%)\nSimilar coverage, but diluted by massive suburban/rural tracts.\n\n\n\n\nWhy similar?\nLarge uninhabited land (NYC parks, Shanghai farmland, Amsterdam waterways)\ndilutes the ratio when calculated using full administrative boundaries.\nThus, coverage of populated areas is likely much higher.\n\n\n\n\nUnsurprisingly dominated by city size:\n\nShanghai (3840 km¬≤) dwarfs the others‚Äîindicating extensive surface transit.\n\nNYC (764.6 km¬≤) also large due to long bus corridors through Bronx, Queens, and Brooklyn.\n\nSingapore (438.7 km¬≤) matches its compact island size.\n\nAmsterdam (138.3 km¬≤) is smallest but proportionally highly accessible.\n\n\n\n\n\nThis metric reflects bus stop spacing, a strong indicator of walkability.\n\n\n\n\n\n\n\n\nCity\nMean NN Dist (m)\nInterpretation\n\n\n\n\nAmsterdam (63 m)\nExceptionally short spacing; bus and tram stops form a tight mesh.\n\n\n\nSingapore (79 m)\nShort and regular stop spacing consistent with national standards.\n\n\n\nShanghai (91 m)\nDense inner-city spacing but wider intervals in outer districts.\n\n\n\nNYC (183 m)\nLongest spacing; wide blocks and the presence of the subway reduce need for close bus spacing.\n\n\n\n\nThe 90th percentile values reinforce this pattern:\n\nNYC 393 m ‚Üí Large variations between dense Manhattan vs.¬†wide Queens/Brooklyn arterials\n\nAmsterdam 134 m, Singapore 161 m ‚Üí Stable, predictable spacing\n\nShanghai 201 m ‚Üí Reflects mixed urban/suburban structure\n\n\n\n\n\n\nCities with integrated multimodal systems (Amsterdam, Singapore) show\nuniformly short nearest-neighbour distances and fine-grained coverage.\nNYC‚Äôs long NN distances are a direct function of:\n\nsubway dominance,\nlarge block lengths,\na bus system designed for coverage‚Äînot fine-grained walkability.\n\nShanghai‚Äôs mixed-range NN distances reflect:\n\nhighly urbanized districts with dense stops,\nlarge exurban areas with coarse spacing."
  },
  {
    "objectID": "website/results.html#city-level-maps",
    "href": "website/results.html#city-level-maps",
    "title": "Results",
    "section": "",
    "text": "Detailed maps ‚Äî bus stop distributions, 500 m coverage, kernel density heatmaps, and nearest-neighbour patterns ‚Äî are shown on the individual city pages available under ‚ÄúCities‚Äù in the navigation bar."
  },
  {
    "objectID": "website/index.html",
    "href": "website/index.html",
    "title": "Global Bus Accessibility Analysis",
    "section": "",
    "text": "Public transport accessibility is a central concern in contemporary urban planning. A dense and well-distributed bus network can reduce car dependence, support social equity, and connect residents to jobs, education, and essential services. At the same time, many large cities worldwide are facing pressures from rapid urbanisation, climate change, and increasing socio-spatial inequality. Understanding where bus services are abundant ‚Äì and where gaps remain ‚Äì is therefore both a technical and a normative question.\nThis project investigates bus stop accessibility in four major metropolitan areas:\n\nNew York City (USA)\n\nSingapore\n\nAmsterdam (Netherlands)\n\nShanghai (China)\n\nTogether, these cities span different continents, governance regimes, urban forms, and data environments. Comparing them side by side allows us to see how different planning traditions and data infrastructures are reflected in the spatial patterns of bus service.\n\n\n\n\n\n\nAlthough this project focuses on bus stop locations rather than service operations, it is important to understand the broader context of each city‚Äôs bus system. The brief profiles below summarise key features that inform the interpretation of the spatial patterns.\n\n\n Image source: Bloomberg ‚Äì Free NYC buses complicated by bond-paying pledge\nNew York City‚Äôs bus network is operated under MTA Regional Bus Operations (RBO), which consolidates services provided by MTA New York City Bus and MTA Bus Company. Together they form one of the largest bus systems in the world, with a fleet of over 5,000 vehicles, more than 300 routes, and many services operating 24/7. The network includes local stopping routes, limited-stop and express lines, as well as Select Bus Service corridors that approximate bus rapid transit. Historically separate operating companies ‚Äì including several private operators in Queens and express services from the outer boroughs ‚Äì have gradually been integrated into a unified fare and scheduling system. As a result, the spatial footprint of bus stops reflects both legacy private franchises and later rationalisation efforts by the MTA.\n\n\n\n Image source: Trapeze Group ‚Äì Bus services in Singapore\nSingapore‚Äôs bus system is highly structured and formally categorised. Routes are differentiated into trunk services linking major towns, feeder services circulating within neighbourhoods, express and peak-hour routes that skip lower-demand stops, short-trip variants of longer lines, special industrial services to Jurong and Tuas, cross-border services to Malaysia, and a range of niche services such as Resorts World Sentosa shuttles and privately operated ‚ÄúScheme B‚Äù routes. Under the Bus Contracting Model, services are organised into packages and competitively tendered to different operators, while the Land Transport Authority plans the overall network. This institutional set-up tends to produce relatively systematic spacing of stops and strong coordination between buses and the MRT network.\n\n\n\n Image source: GVB Amsterdam takes the first step with battery-electric buses\nIn Amsterdam, buses complement an already dense tram and metro system. Within the municipality, city buses are mainly operated by GVB and serve outer neighbourhoods and corridors that are not covered by tram or metro. Regional bus companies such as Connexxion, EBS, and Transdev connect Amsterdam with surrounding towns and key visitor destinations in the wider region (for example the Waterland villages, Zaanse Schans, and Schiphol Airport). For visitors and commuters, the Amsterdam & Region Travel Ticket provides integrated access to these services across operators. The result is a bus stop pattern that is strongly shaped by inter-operator coordination and the presence of multiple overlapping modes.\n\n\n\n Image source: The China Journey ‚Äì Shanghai travel guide\nShanghai‚Äôs bus network is large, multi-operator, and highly differentiated. More than ten bus companies operate roughly 1,600 routes that link the dense central districts with rapidly expanding suburban areas. Regular urban lines are numbered (roughly from 1 to the 900s), while additional labels distinguish cross-river and tunnel services, district and suburban routes, night buses, peak-hour express lines, and local shuttle services designed to solve the ‚Äúlast-kilometre‚Äù connection to metro stations and between major roads and residential communities. On most inner-city routes, stop announcements are made in Mandarin, Shanghainese, and English, reflecting the city‚Äôs multilingual context. This complex operational structure contributes to a very dense but spatially heterogeneous pattern of bus stops.\nThe cities were selected for three main reasons:\n\nDiverse planning and transit models\n\nNew York City represents a large, polycentric North American metropolis with a long history of high-capacity transit (subway, commuter rail) and a dense but uneven bus network.\n\nSingapore is a compact city-state with a strongly integrated public transport system, where bus routes are carefully coordinated with the MRT network and land-use planning.\n\nAmsterdam exemplifies a European approach to sustainable mobility, with a combination of rail, tram, bus, and high levels of walking and cycling.\n\nShanghai is a rapidly developed megacity where metro expansion and bus network restructuring have taken place at remarkable speed over the last two decades.\n\nThese contrasting contexts offer a natural laboratory for exploring how bus stop patterns emerge under different planning paradigms.\nVariation in open data and data sources\nThe four cities also differ in how transit and boundary data are made available:\n\nNew York City and Singapore provide rich, curated datasets via open data portals.\n\nAmsterdam publishes detailed administrative boundaries, while bus stops are obtained from OpenStreetMap.\n\nShanghai lacks comprehensive official open transit data, so OpenStreetMap, via the Overpass API, is used as the main bus stop source, and Simplemaps is used for municipal boundaries.\n\nThis mix reflects the reality that urban researchers often rely on a combination of official and volunteered geographic information (VGI).\nComparability as large global cities\nAll four are large, economically significant cities with extensive public transport systems and substantial daily ridership. Comparing bus stop accessibility across them therefore speaks to broader questions about global urban mobility and spatial justice, rather than to small idiosyncratic cases.\n\n\n\n\n\nThe analysis is guided by four main questions:\n\nHow dense are bus stop networks in each city?\n\nWhat share of the urban area lies within a walkable distance (500 m) of a bus stop?\n\nHow are bus stops spatially distributed ‚Äì clustered, even, or irregular ‚Äì as reflected in kernel density surfaces and nearest-neighbour distances?\n\nHow might differences in planning approaches and data environments help explain the observed patterns?\n\nThe objectives are:\n\nTo construct a transparent and reproducible geospatial workflow for analysing bus accessibility using open-source Python tools.\n\nTo produce comparable indicators of bus stop density, walking coverage, and spatial regularity across the four cities.\n\nTo generate maps and summary statistics that can support discussions on transit equity, network design, and the role of open data in urban research.\n\n\n\n\nAlthough this is a data-driven exercise, the questions are rooted in urban planning debates:\n\nEquity and inclusion ‚Äì who benefits from high levels of bus service, and which neighbourhoods remain underserved?\n\nMultimodal integration ‚Äì how do bus stop patterns complement or duplicate rail and metro networks?\n\nStreet and land-use structure ‚Äì how do built form and road layout shape feasible bus routing and stop spacing?\n\nData and governance ‚Äì how do different open data practices facilitate or constrain comparative research?\n\nThe results should be read not as a definitive performance ranking of cities, but as a spatial diagnostic that helps planners and researchers ask better questions about transit provision and access.\n\n\n\n\nThe Methods page describes the data sources and geospatial methods in more detail.\n\nThe Results page summarises cross-city comparisons of density, coverage, and spatial statistics.\n\nThe Cities menu provides dedicated pages for New York City, Singapore, Amsterdam, and Shanghai, including maps and interpretive comments.\n\nThe Data Sources page documents boundary and bus stop datasets and highlights limitations.\n\nThe About page introduces the author and situates the project in a broader academic context."
  },
  {
    "objectID": "website/about.html",
    "href": "website/about.html",
    "title": "About the Author",
    "section": "",
    "text": "My name is Zonghua Li, and I am a second-year Master‚Äôs student in City Planning with a concentration in Smart Cities. This project was developed as part of a Python-based course on geospatial analytics and urban data science.\nMy academic interests focus on:\n\npublic transport systems and transit-oriented development (TOD),\n\naccessibility and spatial equity in cities,\n\napplying open data platforms and open-source geospatial tools to urban analysis.\n\nThis website represents my final project, where I used Python, GeoPandas, and Quarto to construct an end-to-end analytical workflow that includes:\n\ncollecting and cleaning spatial datasets from multiple public sources,\n\nimplementing reproducible spatial analysis with open-source methods, and\n\ncommunicating the results through maps, tables, and an interactive website.\n\nThe goal of this project is to demonstrate how quantitative geospatial analysis can support planning practice‚Äîparticularly in understanding who can access essential services, how transit networks shape accessibility, and where coverage gaps may emerge.\nIf you have comments, feedback, or suggestions, feel free to reach out:\n\nEmail: zonghua@upenn.edu\n\n(Optional) GitHub: https://github.com/your-username\n\nThank you for visiting this site!"
  },
  {
    "objectID": "Transportation Accessibility Project.html",
    "href": "Transportation Accessibility Project.html",
    "title": "Global Bus Accessibility Analysis",
    "section": "",
    "text": "import os\nimport matplotlib.pyplot as plt\n\ndef save_fig(name, dpi=200):\n    \"\"\"Save figure into figures/ directory\"\"\"\n    os.makedirs(\"figures\", exist_ok=True)\n    path = os.path.join(\"figures\", f\"{name}.png\")\n    plt.savefig(path, dpi=dpi, bbox_inches=\"tight\")\n    print(f\"[Saved] {path}\")\n\n\nimport requests\nimport pandas as pd\nimport geopandas as gpd\nfrom shapely.geometry import Point\nimport matplotlib.pyplot as plt\n\nplt.rcParams[‚Äúfigure.figsize‚Äù] = (7, 7)\nplt.rcParams[‚Äúaxes.titlesize‚Äù] = 12\nplt.rcParams[‚Äúfont.size‚Äù] = 10\n\n# ----------------------------\n# City Configuration\n# ---------------------- ------\n\n# Bounding Box: (Min Latitude, Min Longitude, Max Latitude, Max Longitude)\nCITY_BBOX = {\n    ‚Äúnyc‚Äù:  (40.4774, -74.2591, 40.9176, -73.7004),   # Approximate New York City\n    ‚Äúsg‚Äù:   (1.2000, 103.6000, 1.4800, 104.0500),     # Singapore\n    ‚Äúams‚Äù:  (52.2780, 4.7280, 52.4310, 5.0790),       # Amsterdam\n    ‚Äúsh‚Äù:   (30.90, 121.00, 31.50, 121.98),           # Shanghai\n}\n\nCITY_LABEL = {\n    ‚Äúnyc‚Äù: ‚ÄúNew York City‚Äù,\n    ‚Äúsg‚Äù: ‚ÄúSingapore‚Äù,\n    ‚Äúams‚Äù: ‚ÄúAmsterdam‚Äù,\n    ‚Äúsh‚Äù: ‚ÄúShanghai‚Äù,\n}\n\n# Projection used for area calculation per city \nCITY_TARGET_CRS = {\n    ‚Äúnyc‚Äù: ‚ÄúEPSG:3857‚Äù,   # New York State Plane Coordinate System; or use 3857 directly\n    ‚Äúsg‚Äù:  ‚ÄúEPSG:3414‚Äù,   # Singapore Local Coordinate System\n    ‚Äúams‚Äù: ‚ÄúEPSG:28992‚Äù,  # Amersfoort/RD new coordinate system\n    ‚Äúsh‚Äù:  ‚ÄúEPSG:3857‚Äù,   # Universal Web Mercator coordinate system\n}\n\n\nOVERPASS_URL = ‚Äúhttps://overpass-api.de/api/interpreter‚Äù\n\n# ---------------------------------------\n# 1) Build Overpass query (for AMS / SH)\n# ---------------------------------------\ndef build_overpass_query_bus_stops(bbox):\n    ‚Äú‚Äù\"\n    bbox: (min_lat, min_lon, max_lat, max_lon)\n    ‚Äú‚Äù\"\n    min_lat, min_lon, max_lat, max_lon = bbox\n    query = f‚Äú‚Äù\"\n    [out:json][timeout:60];\n    (\n      node[‚Äúhighway‚Äù=‚Äúbus_stop‚Äù]({min_lat},{min_lon},{max_lat},{max_lon});\n    );\n    out body;\n    &gt;;\n    out skel qt;\n    ‚Äú‚Äù\"\n    return query\n\n\n# ------------------ ---------------------\n# 2) Unified Bus Stop Retrieval Function\n#    NYC / SG use local files, others use Overpass\n# ---------------------------------------\ndef fetch_bus_stops_osm(city):\n    print(f‚Äú\\nFetching bus stops for {CITY_LABEL[city]} ...‚Äù)\n\n    # New York City ‚Äî Local GeoJSON\n    if city == ‚Äúnyc‚Äù:\n        path = ‚Äúdata/Bus_Stop_Shelter_20251122.geojson‚Äù\n        print(f‚Äú  ‚Üí Using local NYC dataset: {path}‚Äù)\n        gdf = gpd.read_file(path)\n\n        if gdf.crs is None:\n            gdf = gdf.set_crs(‚ÄúEPSG:4326‚Äù)\n        else:\n            gdf = gdf.to_crs(‚ÄúEPSG:4326‚Äù)\n\n        print(f‚Äú  NYC loaded: {len(gdf)} stops‚Äù)\n        return gdf\n\n    # Singapore ‚Äî Local LTA GeoJSON\n    if city == ‚Äúsg‚Äù:\n        path = ‚Äúdata/LTABusStop.geojson‚Äù\n        print(f‚Äú  ‚Üí Using local Singapore dataset: {path}‚Äù)\n        gdf = gpd.read_file (path)\n\n        if gdf.crs is None:\n            gdf = gdf.set_crs(‚ÄúEPSG:4326‚Äù)\n        else:\n            gdf = gdf.to_crs(‚ÄúEPSG:4326‚Äù)\n\n        print(f‚Äú  Singapore loaded‚Äù)\n\n        return gdf\n\n    # Amsterdam / Shanghai ‚Äî Overpass API\n    bbox = CITY_BBOX[city]\n    query = build_overpass_query_bus_stops(bbox)\n\n    print(\"  ‚Üí Fetching from Overpass API ...\")\n    resp = requests.get(OVERPASS_URL, params={\"data\": query})\n    resp.raise_for_status()\n    data = resp.json()\n\n    elements = [e for e in data.get(\"elements\", []) if e.get(\"type\") == \"node\"]\n\n    gdf = gpd.GeoDataFrame(\n        elements,\n        geometry=[Point(e[\"lon\"], e[\"lat\"]) for e in elements],\n        crs=\"EPSG:4326\",\n    )\n\n    if \"tags\" in gdf.columns:\n        tags_df = gdf[\"tags\"].apply(pd.Series)\n        gdf = pd.concat([gdf.drop(columns=[\"tags\"]), tags_df], axis=1)\n\n    print(f\"  {CITY_LABEL[city]} fetched: {len(gdf)} stops\")\n    return gdf\n\n\n# ---------------------------------------\n# 3) Boundary Cleaning (Applicable to All Cities)\n# ---------------------------------------\ndef clean_boundary(gdf):\n    ‚Äú‚Äù‚ÄúFix topology and merge multiple polygons‚Äù‚Äú‚Äù\n    gdf = gdf.explode(ignore_index=True)\n    gdf[‚Äúgeometry‚Äù] = gdf.geometry.buffer(0)\n    merged = gdf.unary_union\n    return gpd.GeoDataFrame(geometry=[merged], crs=gdf.crs)\n\n\n# ------------------------------\n# 1) Four Cities' Boundary Sources\n# ------------------------------\nBOUNDARY_SOURCES = {\n    # New York City \n    \"nyc\": {\n        \"path\": \"data/nybb.shp\"\n    },\n\n    # Singapore\n    \"sg\": {\n        \"path\": \"data/Singapore_Boundary.geojson\"\n    },\n\n    # Amsterdam\n    \"ams\": {\n        \"path\": \"https://api.data.amsterdam.nl/v1/gebieden/stadsdelen?_format=geojson\"\n    },\n\n    # Shanghai \n    \"sh\": {\n        \"path\": \"data/China_Boundary.json\"\n    },\n}\n\n\n# ------------------------------\n# 2) Load city boundary\n# ------------------------------\ndef load_city_boundary(city):\n    path = BOUNDARY_SOURCES[city][\"path\"]\n\n    print(f\"\\n=== Loading boundary for {CITY_LABEL[city]} ===\")\n    print(f\"  Reading from: {path}\")\n\n    gdf = gpd.read_file(path)\n\n    # Uniform CRS\n    if gdf.crs is None:\n        gdf = gdf.set_crs(epsg=4326)\n    else:\n        gdf = gdf.to_crs(epsg=4326)\n\n    # ShanghaiÔºöFilter into Shanghai Municipality (CNSH)\n    if city == \"sh\":\n        if \"adm1_code\" in gdf.columns:\n            gdf = gdf[gdf[\"adm1_code\"] == \"CNSH\"]\n        elif \"iso_3166_2\" in gdf.columns:\n            gdf = gdf[gdf[\"iso_3166_2\"] == \"CNSH\"]\n        elif \"name\" in gdf.columns:\n            gdf = gdf[gdf[\"name\"].str.contains(\"Shanghai\", case=False, na=False)]\n\n        print(\"  ‚Üí Filtered Shanghai Municipality (CNSH)\")\n\n    print(f\"  ‚Üí {len(gdf)} polygons, CRS = {gdf.crs}\")\n    return gdf\n\n# ---------------------------------------\n# 3) Shanghai Boundary Cleanup: Retain only the area with the most bus stops (main urban area)\n# ---------------------------------------\ndef clean_shanghai_boundary(boundary_4326, stops_4326):\n    ‚Äú‚Äù\"\n    boundary_4326 : Shanghai administrative boundaries (EPSG:4326, multi-polygon)\n    stops_4326    : Shanghai bus stops (EPSG:4326)\n    Expand the polygon into individual parts, count the number of stops within each part, and retain the part with the highest stop count.\n    This corresponds to the main urban areas of Pudong and Puxi, discarding peripheral islands like Chongming.\n    ‚Äú‚Äù\"\n\n    # 1) Split into individual polygons\n    polys = boundary_4326.explode(index_parts=False).reset_index (drop=True)\n\n    # 2) Count stops within each polygon\n    def count_stops(geom):\n        # within / contains are both valid; using within here\n        return stops_4326.within(geom).sum()\n\n    polys[‚Äún_stops‚Äù] = polys.geometry.apply(count_stops)\n\n    if polys[‚Äún_stops‚Äù].max() == 0:\n        print(‚Äú  ‚ö† Shanghai cleanup: all polygons have 0 stops, keep original boundary‚Äù)\n        return boundary_4326\n\n    # 3) Select the polygon with the most stops\n    main = polys.loc[[polys[‚Äún_stops‚Äù].idxmax()]].drop(columns=[‚Äún_stops‚Äù])\n\n    # 4) Perform another buffer(0) to fix topology\n    main[‚Äúgeometry‚Äù] = main.geometry.buffer(0)\n\n    return main\n\n\n# Prepare city data: clip + area + density\ndef prepare_city_data(city):\n    print(f‚Äú\\n=== Processing {CITY_LABEL[city]} ===‚Äù)\n\n    # 1) Load bus stops (EPSG:4326)\n    stops = fetch_bus_stops_osm(city)\n    if len(stops) == 0:\n        print(‚Äú‚ö† No bus stops, skip‚Äù)\n        return None\n\n    stops_gdf = gpd.GeoDataFrame(stops, geometry=stops.geometry, crs=\"EPSG:4326\")\n\n    # 2) Load city boundaries\n    boundary_raw = load_city_boundary(city)      \n\n    # Shanghai: Use stop data to crop administrative boundaries to core urban areas\n    if city == ‚Äúsh‚Äù:\n        boundary_raw = clean_shanghai_boundary(boundary_raw, stops_gdf)\n\n    # 3) General cleaning (topology repair + merge)\n    boundary = clean_boundary(boundary_raw)\n    boundary_4326 = boundary.to_crs(‚ÄúEPSG:4326‚Äù)\n\n    # 4) Clip: Retain only stops within the city\n    stops_clipped = gpd.clip(stops_gdf, boundary_4326)\n\n    # 5) Calculate area and density (project to target CRS)\n    target_crs = CITY_TARGET_CRS[city]\n    boundary_proj = boundary_4326.to_crs(target_crs)\n    stops_proj = stops_clipped.to_crs(target_crs)\n\n    area_m2 = boundary_proj.geometry.area.sum()\n    area_km2 = area_m2 / 1e6\n\n    n_stops = len(stops_proj)\n    density = n_stops / area_km2 if area_km2 &gt; 0 else None\n\n    print(f‚Äú{CITY_LABEL[city]} area ‚âà {area_km2:.1f} km¬≤, ‚Äù\n          f‚Äústops={n_stops}, density={density:.3f}‚Äù)\n\n    return {\n        \"boundary_4326\": boundary_4326,\n        \"boundary_proj\": boundary_proj,\n        \"stops_4326\": stops_gdf,\n        \"stops_clipped_4326\": stops_clipped,\n        \"stops_proj\": stops_proj,  \n        \"area_km2\": area_km2,\n        \"n_stops\": n_stops,\n        \"density\": density,\n    }\n\n\ndef plot_city_map(city, data, save=False):\n    b = data[\"boundary_4326\"]\n    s = data[\"stops_clipped_4326\"]\n\n    fig, ax = plt.subplots(figsize=(6, 6))\n    b.boundary.plot(ax=ax, linewidth=1, edgecolor=\"black\")\n    s.plot(ax=ax, color=\"red\", markersize=2)\n    ax.set_title(f\"{CITY_LABEL[city]}: Bus Stops\")\n\n    if save:\n        save_fig(f\"{city}_bus_stops\")\n\n    plt.show()\n\n\n# ------------------------------\n# Calculate Density for Four Cities\n# ------------------------------\nresults = {}\nfor c in [\"nyc\", \"sg\", \"ams\", \"sh\"]:\n    r = prepare_city_data(c)\n    if r is not None:\n        results[c] = r\n\n\n# ------------------------------\n# Individual city map plotting + saving\n# ------------------------------\nfor c, r in results.items():\n    plot_city_map(c, r, save=True)\n\n\n# ------------------------------\n# Summary DataFrame\n# ------------------------------\nsummary_df = pd.DataFrame([\n    {\n        \"city\": CITY_LABEL[c],\n        \"area_km2\": r[\"area_km2\"],\n        \"n_stops\": r[\"n_stops\"],\n        \"density_stops_per_km2\": r[\"density\"]\n    }\n    for c, r in results.items()\n])\n\nprint(\"\\n=== Density Summary ===\")\nprint(summary_df)\n\n\n# ------------------------------\n# Plot density comparison bar chart + saving\n# ------------------------------\nfig, ax = plt.subplots(figsize=(8, 4))\n\nax.bar(\n    summary_df[\"city\"],\n    summary_df[\"density_stops_per_km2\"]\n)\n\nax.set_ylabel(\"Bus Stops per km¬≤\")\nax.set_title(\"Bus Stop Density Comparison\")\nplt.xticks(rotation=20)\nplt.tight_layout()\n\nsave_fig(\"density_bar_chart\")   # saves to figures/density_bar_chart.png\nplt.show()\n\n\n# ------------------------------\n# Save summary_df as a table figure\n# ------------------------------\nfig, ax = plt.subplots(figsize=(6, 1.5))\nax.axis(\"off\")\n\nsummary_to_show = summary_df.copy()\nsummary_to_show[\"area_km2\"] = summary_to_show[\"area_km2\"].round(1)\nsummary_to_show[\"density_stops_per_km2\"] = summary_to_show[\"density_stops_per_km2\"].round(2)\n\ntable = ax.table(\n    cellText=summary_to_show.values,\n    colLabels=summary_to_show.columns,\n    loc=\"center\"\n)\n\ntable.auto_set_font_size(False)\ntable.set_fontsize(8)\ntable.auto_set_column_width(col=list(range(len(summary_to_show.columns))))\n\nsave_fig(\"density_summary_table\")  # figures/density_summary_table.png\nplt.show()\n\n\n=== Processing New York City ===\n\nFetching bus stops for New York City ...\n  ‚Üí Using local NYC dataset: data/Bus_Stop_Shelter_20251122.geojson\n  NYC loaded: 3381 stops\n\n=== Loading boundary for New York City ===\n  Reading from: data/nybb.shp\n  ‚Üí 5 polygons, CRS = EPSG:4326\n\n\nC:\\Users\\Eve Li\\AppData\\Local\\Temp\\ipykernel_94552\\2690663983.py:91: DeprecationWarning: The 'unary_union' attribute is deprecated, use the 'union_all()' method instead.\n  merged = gdf.unary_union\n\n\nNew York City area ‚âà 1362.7 km¬≤, stops=3381, density=2.481\n\n=== Processing Singapore ===\n\nFetching bus stops for Singapore ...\n  ‚Üí Using local Singapore dataset: data/LTABusStop.geojson\n  Singapore loaded: 5166 stops\n\n=== Loading boundary for Singapore ===\n  Reading from: data/Singapore_Boundary.geojson\n  ‚Üí 55 polygons, CRS = EPSG:4326\n\n\nC:\\Users\\Eve Li\\AppData\\Local\\Temp\\ipykernel_94552\\2690663983.py:91: DeprecationWarning: The 'unary_union' attribute is deprecated, use the 'union_all()' method instead.\n  merged = gdf.unary_union\n\n\nSingapore area ‚âà 784.9 km¬≤, stops=5161, density=6.575\n\n=== Processing Amsterdam ===\n\nFetching bus stops for Amsterdam ...\n  ‚Üí Fetching from Overpass API ...\n  Amsterdam fetched: 1592 stops\n\n=== Loading boundary for Amsterdam ===\n  Reading from: https://api.data.amsterdam.nl/v1/gebieden/stadsdelen?_format=geojson\n  ‚Üí 9 polygons, CRS = EPSG:4326\nAmsterdam area ‚âà 243.7 km¬≤, stops=1145, density=4.699\n\n=== Processing Shanghai ===\n\nFetching bus stops for Shanghai ...\n  ‚Üí Fetching from Overpass API ...\n\n\nC:\\Users\\Eve Li\\AppData\\Local\\Temp\\ipykernel_94552\\2690663983.py:91: DeprecationWarning: The 'unary_union' attribute is deprecated, use the 'union_all()' method instead.\n  merged = gdf.unary_union\n\n\n  Shanghai fetched: 24189 stops\n\n=== Loading boundary for Shanghai ===\n  Reading from: data/China_Boundary.json\n  ‚Üí Filtered Shanghai Municipality (CNSH)\n  ‚Üí 1 polygons, CRS = EPSG:4326\n\n\nC:\\Users\\Eve Li\\AppData\\Local\\Temp\\ipykernel_94552\\2690663983.py:91: DeprecationWarning: The 'unary_union' attribute is deprecated, use the 'union_all()' method instead.\n  merged = gdf.unary_union\n\n\nShanghai area ‚âà 6955.7 km¬≤, stops=23229, density=3.340\n[Saved] figures\\nyc_bus_stops.png\n\n\n\n\n\n\n\n\n\n[Saved] figures\\sg_bus_stops.png\n\n\n\n\n\n\n\n\n\n[Saved] figures\\ams_bus_stops.png\n\n\n\n\n\n\n\n\n\n[Saved] figures\\sh_bus_stops.png\n\n\n\n\n\n\n\n\n\n\n=== Density Summary ===\n            city     area_km2  n_stops  density_stops_per_km2\n0  New York City  1362.687636     3381               2.481126\n1      Singapore   784.920610     5161               6.575187\n2      Amsterdam   243.652458     1145               4.699316\n3       Shanghai  6955.700728    23229               3.339563\n[Saved] figures\\density_bar_chart.png\n\n\n\n\n\n\n\n\n\n[Saved] figures\\density_summary_table.png\n\n\n\n\n\n\n\n\n\n\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom sklearn.neighbors import KernelDensity\nfrom shapely.geometry import Point\nfrom shapely.ops import unary_union\nimport geopandas as gpd\n\n\n# ======================================================\n# 1) 500m Coverage + Map\n# ======================================================\n\nfrom shapely.ops import unary_union\nimport matplotlib.pyplot as plt\nimport geopandas as gpd\n\ndef bus_coverage_analysis(city, result, buffer_m=500, plot=True):\n    stops_proj = result[\"stops_proj\"]\n    boundary_proj = result[\"boundary_proj\"]\n\n    buffers = stops_proj.buffer(buffer_m)\n    merged = unary_union(buffers)\n    covered = merged.intersection(boundary_proj.unary_union)\n\n    coverage = covered.area / boundary_proj.area.sum()\n\n    if plot:\n        fig, ax = plt.subplots(figsize=(7, 7))\n        boundary_proj.boundary.plot(ax=ax, color=\"black\")\n        gpd.GeoSeries(covered).plot(ax=ax, alpha=0.5)\n        stops_proj.plot(ax=ax, color=\"red\", markersize=5)\n        ax.set_title(f\"{CITY_LABEL[city]} ‚Äì 500m Coverage Heatmap\")\n        return coverage, fig\n\n    return coverage, None\n\n\n# ======================================================\n# 2) KDE Heatmap (Kernel Density Estimation)\n# ======================================================\n\nfrom sklearn.neighbors import KernelDensity\nimport numpy as np\n\ndef bus_kde_heatmap(city, result, bandwidth_m=300, grid_size=200):\n    stops_proj = result[\"stops_proj\"]\n    boundary_proj = result[\"boundary_proj\"]\n\n    X = np.vstack([stops_proj.geometry.x, stops_proj.geometry.y]).T\n    kde = KernelDensity(bandwidth=bandwidth_m, kernel=\"gaussian\")\n    kde.fit(X)\n\n    minx, miny, maxx, maxy = boundary_proj.total_bounds\n    xx, yy = np.meshgrid(\n        np.linspace(minx, maxx, grid_size),\n        np.linspace(miny, maxy, grid_size)\n    )\n    xy_sample = np.vstack([xx.ravel(), yy.ravel()]).T\n    zz = np.exp(kde.score_samples(xy_sample)).reshape(xx.shape)\n\n    fig, ax = plt.subplots(figsize=(7, 7))\n    ax.imshow(zz, extent=(minx, maxx, miny, maxy), origin=\"lower\", cmap=\"hot\", alpha=0.6)\n    boundary_proj.boundary.plot(ax=ax, color=\"black\", linewidth=1)\n    ax.set_title(f\"{CITY_LABEL[city]} ‚Äî KDE Heatmap\")\n\n    return xx, yy, zz, fig\n\n\n# ======================================================\n# 3) Nearest Neighbor Distance\n# ======================================================\n\nfrom sklearn.neighbors import KDTree\n\ndef nearest_stop_analysis(city, result, plot=True):\n    stops_proj = result[\"stops_proj\"]\n    coords = np.vstack([stops_proj.geometry.x, stops_proj.geometry.y]).T\n\n    tree = KDTree(coords)\n    dist, _ = tree.query(coords, k=2)\n    stops_proj[\"nn_dist\"] = dist[:, 1]\n\n    if plot:\n        fig, ax = plt.subplots(1, 2, figsize=(12, 5))\n        \n        ax[0].hist(stops_proj[\"nn_dist\"], bins=40, color=\"gray\")\n        ax[0].set_title(f\"{CITY_LABEL[city]} ‚Äî NN Distance Histogram\")\n\n        boundary_proj = result[\"boundary_proj\"]\n        boundary_proj.boundary.plot(ax=ax[1], color=\"black\")\n        stops_proj.plot(ax=ax[1], column=\"nn_dist\", cmap=\"viridis\", markersize=5, legend=True)\n        ax[1].set_title(f\"{CITY_LABEL[city]} ‚Äî Nearest Stop Distance Map\")\n\n        return stops_proj, fig\n\n    return stops_proj, None\n\n\n# ======================================================\n# 4) Full City Section: Save All 3 Figures\n# ======================================================\n\ndef full_city_section(city, result, buffer_m=500, bandwidth_m=300, grid_size=200):\n    print(\"\\n\" + \"=\"*60)\n    print(f\"########  {CITY_LABEL[city]} ‚Äî Full Analysis  ########\")\n    print(\"=\"*60)\n\n    # 1) Coverage map\n    cov, fig_cov = bus_coverage_analysis(city, result, buffer_m=buffer_m, plot=True)\n    if fig_cov is not None:\n        save_fig(f\"{city}_coverage_500m\")\n        plt.close(fig_cov)\n\n    # 2) KDE\n    xx, yy, zz, fig_kde = bus_kde_heatmap(city, result, bandwidth_m=bandwidth_m, grid_size=grid_size)\n    if fig_kde is not None:\n        save_fig(f\"{city}_kde_bw{bandwidth_m}\")\n        plt.close(fig_kde)\n\n    # 3) NN\n    nn_gdf, fig_nn = nearest_stop_analysis(city, result, plot=True)\n    if fig_nn is not None:\n        save_fig(f\"{city}_nearest_neighbor\")\n        plt.close(fig_nn)\n\n    return {\n        \"coverage_500m\": cov,\n        \"kde\": (xx, yy, zz),\n        \"nearest\": nn_gdf,\n    }\n\n\nBANDWIDTH_CONFIG = {\n    \"nyc\": 400,\n    \"sg\": 300,\n    \"ams\": 250,\n    \"sh\": 350,\n}\n\ndetail_stats = {}\n\nfor c, r in results.items():\n    bw = BANDWIDTH_CONFIG[c]\n    detail_stats[c] = full_city_section(\n        c,\n        r,\n        buffer_m=500,\n        bandwidth_m=bw,\n        grid_size=200\n    )\n\n\n============================================================\n########  New York City ‚Äî Full Analysis  ########\n============================================================\n\n\nC:\\Users\\Eve Li\\AppData\\Local\\Temp\\ipykernel_94552\\3268776784.py:15: DeprecationWarning: The 'unary_union' attribute is deprecated, use the 'union_all()' method instead.\n  covered = merged.intersection(boundary_proj.unary_union)\n\n\n[Saved] figures\\nyc_coverage_500m.png\n[Saved] figures\\nyc_kde_bw400.png\n[Saved] figures\\nyc_nearest_neighbor.png\n\n============================================================\n########  Singapore ‚Äî Full Analysis  ########\n============================================================\n\n\nC:\\Users\\Eve Li\\AppData\\Local\\Temp\\ipykernel_94552\\3268776784.py:15: DeprecationWarning: The 'unary_union' attribute is deprecated, use the 'union_all()' method instead.\n  covered = merged.intersection(boundary_proj.unary_union)\n\n\n[Saved] figures\\sg_coverage_500m.png\n[Saved] figures\\sg_kde_bw300.png\n[Saved] figures\\sg_nearest_neighbor.png\n\n============================================================\n########  Amsterdam ‚Äî Full Analysis  ########\n============================================================\n\n\nC:\\Users\\Eve Li\\AppData\\Local\\Temp\\ipykernel_94552\\3268776784.py:15: DeprecationWarning: The 'unary_union' attribute is deprecated, use the 'union_all()' method instead.\n  covered = merged.intersection(boundary_proj.unary_union)\n\n\n[Saved] figures\\ams_coverage_500m.png\n[Saved] figures\\ams_kde_bw250.png\n[Saved] figures\\ams_nearest_neighbor.png\n\n============================================================\n########  Shanghai ‚Äî Full Analysis  ########\n============================================================\n\n\nC:\\Users\\Eve Li\\AppData\\Local\\Temp\\ipykernel_94552\\3268776784.py:15: DeprecationWarning: The 'unary_union' attribute is deprecated, use the 'union_all()' method instead.\n  covered = merged.intersection(boundary_proj.unary_union)\n\n\n[Saved] figures\\sh_coverage_500m.png\n[Saved] figures\\sh_kde_bw350.png\n[Saved] figures\\sh_nearest_neighbor.png\n\n\n\n# ======================================================\n# 5) Summarize detailed accessibility stats for each city\n# ======================================================\nimport numpy as np\n\naccess_summary_rows = []\n\nfor c, stats in detail_stats.items():\n    cov = stats[\"coverage_500m\"]          \n    nn_gdf = stats[\"nearest\"]             \n    nn_dist = nn_gdf[\"nn_dist\"].values\n\n    area_total = results[c][\"area_km2\"]   \n    area_covered = cov * area_total       \n    \n    access_summary_rows.append({\n        \"city_code\": c,\n        \"city\": CITY_LABEL[c],\n        \"area_km2\": area_total,\n        \"coverage_500m_ratio\": cov,\n        \"coverage_500m_pct\": cov * 100,\n        \"area_covered_500m_km2\": area_covered,\n        \"nn_mean_m\": nn_dist.mean(),\n        \"nn_median_m\": np.median(nn_dist),\n        \"nn_p90_m\": np.percentile(nn_dist, 90),\n        \"nn_min_m\": nn_dist.min(),\n        \"nn_max_m\": nn_dist.max(),\n        \"n_stops\": results[c][\"n_stops\"],\n    })\n\naccess_summary_df = pd.DataFrame(access_summary_rows)\n\nrounded_access_summary = access_summary_df.round({\n    \"area_km2\": 1,\n    \"coverage_500m_pct\": 1,\n    \"area_covered_500m_km2\": 1,\n    \"nn_mean_m\": 1,\n    \"nn_median_m\": 1,\n    \"nn_p90_m\": 1,\n    \"nn_min_m\": 1,\n    \"nn_max_m\": 1,\n})\n\nprint(\"\\n=== Detailed Accessibility Summary ===\")\nprint(rounded_access_summary)\n\nfig, ax = plt.subplots(figsize=(9, 2.5))\nax.axis(\"off\")\n\ntable = ax.table(\n    cellText=rounded_access_summary.values,\n    colLabels=rounded_access_summary.columns,\n    loc=\"center\"\n)\n\ntable.auto_set_font_size(False)\ntable.set_fontsize(8)\ntable.auto_set_column_width(col=list(range(len(rounded_access_summary.columns))))\n\nsave_fig(\"detailed_accessibility_summary\")\nplt.show()\n\n\n=== Detailed Accessibility Summary ===\n  city_code           city  area_km2  coverage_500m_ratio  coverage_500m_pct  \\\n0       nyc  New York City    1362.7             0.561070               56.1   \n1        sg      Singapore     784.9             0.558901               55.9   \n2       ams      Amsterdam     243.7             0.567729               56.8   \n3        sh       Shanghai    6955.7             0.552184               55.2   \n\n   area_covered_500m_km2  nn_mean_m  nn_median_m  nn_p90_m  nn_min_m  \\\n0                  764.6      183.2        108.2     393.7       0.1   \n1                  438.7       79.7         57.1     161.4       0.0   \n2                  138.3       63.3         39.2     133.8       1.7   \n3                 3840.8       91.3         56.4     201.3       2.2   \n\n   nn_max_m  n_stops  \n0    2417.4     3381  \n1    1098.4     5161  \n2     687.0     1145  \n3    1266.4    23229  \n[Saved] figures\\detailed_accessibility_summary.png"
  },
  {
    "objectID": "website/data_sources.html",
    "href": "website/data_sources.html",
    "title": "Data Sources",
    "section": "",
    "text": "These datasets form the backbone of the quantitative analysis (bus stop density, 500 m coverage and nearest-neighbour distances).\n\n\n\nNew York City\nBorough boundaries from NYC Open Data\n(NYC Borough Boundaries; used to define the built-up area of the five boroughs).\nSingapore\nPlanning area polygons from the 2019 Master Plan on data.gov.sg,\naggregated to the national extent.\nAmsterdam\nAdministrative areas from Open GEO-Data Amsterdam\n(Gemeente Amsterdam ‚Äì stadsdelen / neighbourhood boundaries).\nShanghai\nCity boundary from Simplemaps (Shanghai polygon extracted from a global cities dataset).\nThis polygon includes some non-built-up land and water areas, but is used as an approximation of the municipal extent due to the lack of free official GIS boundary data.\n\nFor Shanghai the analysis additionally focuses on the main urban island (central municipality), excluding the outlying islands (e.g.¬†Chongming). This corresponds better to the area where dense urban development and the bus network are concentrated.\n\n\n\n\nNew York City\nBus Shelters dataset from NYC Open Data.\nThis represents the locations of bus shelters rather than every physical stop pole, but coverage is high and spatially consistent, and is therefore used as a proxy for bus stops.\nSingapore\nBus Stop Locations from the Land Transport Authority (LTA) via data.gov.sg, including official stop codes and coordinates.\nAmsterdam\nOpenStreetMap bus stops (highway=bus_stop) retrieved via the\nOverpass API. These were clipped to the Amsterdam municipal boundary.\nShanghai\nOpenStreetMap bus stops (highway=bus_stop) retrieved via the\nOverpass API, then clipped to the (Simplemaps-based) city boundary.\n\n\n\n\nOpenStreetMap data (Amsterdam, Shanghai) may miss a small share of minor stops, especially in peripheral areas.\nNYC bus shelters under-represent stops without shelters, but capture the main passenger hubs and urban corridors.\nThe Shanghai boundary is broader than the actual built-up area, including river surfaces and some industrial / rural land. This is noted explicitly in the Shanghai city profile and should be kept in mind when comparing densities across cities."
  },
  {
    "objectID": "website/data_sources.html#city-boundaries",
    "href": "website/data_sources.html#city-boundaries",
    "title": "Data Sources",
    "section": "",
    "text": "New York City\nBorough boundaries from NYC Open Data\n(NYC Borough Boundaries; used to define the built-up area of the five boroughs).\nSingapore\nPlanning area polygons from the 2019 Master Plan on data.gov.sg,\naggregated to the national extent.\nAmsterdam\nAdministrative areas from Open GEO-Data Amsterdam\n(Gemeente Amsterdam ‚Äì stadsdelen / neighbourhood boundaries).\nShanghai\nCity boundary from Simplemaps (Shanghai polygon extracted from a global cities dataset).\nThis polygon includes some non-built-up land and water areas, but is used as an approximation of the municipal extent due to the lack of free official GIS boundary data.\n\nFor Shanghai the analysis additionally focuses on the main urban island (central municipality), excluding the outlying islands (e.g.¬†Chongming). This corresponds better to the area where dense urban development and the bus network are concentrated."
  },
  {
    "objectID": "website/data_sources.html#bus-stops",
    "href": "website/data_sources.html#bus-stops",
    "title": "Data Sources",
    "section": "",
    "text": "New York City\nBus Shelters dataset from NYC Open Data.\nThis represents the locations of bus shelters rather than every physical stop pole, but coverage is high and spatially consistent, and is therefore used as a proxy for bus stops.\nSingapore\nBus Stop Locations from the Land Transport Authority (LTA) via data.gov.sg, including official stop codes and coordinates.\nAmsterdam\nOpenStreetMap bus stops (highway=bus_stop) retrieved via the\nOverpass API. These were clipped to the Amsterdam municipal boundary.\nShanghai\nOpenStreetMap bus stops (highway=bus_stop) retrieved via the\nOverpass API, then clipped to the (Simplemaps-based) city boundary.\n\n\n\n\nOpenStreetMap data (Amsterdam, Shanghai) may miss a small share of minor stops, especially in peripheral areas.\nNYC bus shelters under-represent stops without shelters, but capture the main passenger hubs and urban corridors.\nThe Shanghai boundary is broader than the actual built-up area, including river surfaces and some industrial / rural land. This is noted explicitly in the Shanghai city profile and should be kept in mind when comparing densities across cities."
  },
  {
    "objectID": "website/methods.html",
    "href": "website/methods.html",
    "title": "Methods",
    "section": "",
    "text": "This page summarises the analytical workflow and explains why each method was chosen. All analysis is implemented in Python using GeoPandas, Shapely, scikit-learn, and Matplotlib."
  },
  {
    "objectID": "website/methods.html#data",
    "href": "website/methods.html#data",
    "title": "Methods",
    "section": "",
    "text": "City boundaries from official planning or open data portals.\n\nBus stop locations from local open data portals or OpenStreetMap\n(via the Overpass API for Amsterdam and Shanghai)."
  },
  {
    "objectID": "website/methods.html#processing-steps",
    "href": "website/methods.html#processing-steps",
    "title": "Methods",
    "section": "",
    "text": "Standardise all datasets to EPSG:4326.\n\nClean and merge city boundaries; for Shanghai, keep only the polygon\nthat contains the largest number of bus stops (main urban area).\n\nClip bus stops to each city boundary.\n\nReproject to a suitable metric CRS per city and compute:\n\ntotal area (km¬≤)\n\nnumber of bus stops\n\ndensity (stops per km¬≤).\n\n\nGenerate 500 m buffers around bus stops and compute the share of city\narea within 500 m walking distance.\n\nEstimate kernel density surfaces using scikit-learn‚Äôs KernelDensity.\n\nCompute nearest-neighbour distances between stops using a KDTree."
  },
  {
    "objectID": "website/index.html#background-and-motivation",
    "href": "website/index.html#background-and-motivation",
    "title": "Global Bus Accessibility Analysis",
    "section": "",
    "text": "Public transport accessibility is a central concern in contemporary urban planning. A dense and well-distributed bus network can reduce car dependence, support social equity, and connect residents to jobs, education, and essential services. At the same time, many large cities worldwide are facing pressures from rapid urbanisation, climate change, and increasing socio-spatial inequality. Understanding where bus services are abundant ‚Äì and where gaps remain ‚Äì is therefore both a technical and a normative question.\nThis project investigates bus stop accessibility in four major metropolitan areas:\n\nNew York City (USA)\n\nSingapore\n\nAmsterdam (Netherlands)\n\nShanghai (China)\n\nTogether, these cities span different continents, governance regimes, urban forms, and data environments. Comparing them side by side allows us to see how different planning traditions and data infrastructures are reflected in the spatial patterns of bus service."
  },
  {
    "objectID": "website/index.html#city-bus-systems-in-context",
    "href": "website/index.html#city-bus-systems-in-context",
    "title": "Global Bus Accessibility Analysis",
    "section": "",
    "text": "Although this project focuses on bus stop locations rather than service operations, it is important to understand the broader context of each city‚Äôs bus system. The brief profiles below summarise key features that inform the interpretation of the spatial patterns.\n\n\n Image source: Bloomberg ‚Äì Free NYC buses complicated by bond-paying pledge\nNew York City‚Äôs bus network is operated under MTA Regional Bus Operations (RBO), which consolidates services provided by MTA New York City Bus and MTA Bus Company. Together they form one of the largest bus systems in the world, with a fleet of over 5,000 vehicles, more than 300 routes, and many services operating 24/7. The network includes local stopping routes, limited-stop and express lines, as well as Select Bus Service corridors that approximate bus rapid transit. Historically separate operating companies ‚Äì including several private operators in Queens and express services from the outer boroughs ‚Äì have gradually been integrated into a unified fare and scheduling system. As a result, the spatial footprint of bus stops reflects both legacy private franchises and later rationalisation efforts by the MTA.\n\n\n\n Image source: Trapeze Group ‚Äì Bus services in Singapore\nSingapore‚Äôs bus system is highly structured and formally categorised. Routes are differentiated into trunk services linking major towns, feeder services circulating within neighbourhoods, express and peak-hour routes that skip lower-demand stops, short-trip variants of longer lines, special industrial services to Jurong and Tuas, cross-border services to Malaysia, and a range of niche services such as Resorts World Sentosa shuttles and privately operated ‚ÄúScheme B‚Äù routes. Under the Bus Contracting Model, services are organised into packages and competitively tendered to different operators, while the Land Transport Authority plans the overall network. This institutional set-up tends to produce relatively systematic spacing of stops and strong coordination between buses and the MRT network.\n\n\n\n Image source: GVB Amsterdam takes the first step with battery-electric buses\nIn Amsterdam, buses complement an already dense tram and metro system. Within the municipality, city buses are mainly operated by GVB and serve outer neighbourhoods and corridors that are not covered by tram or metro. Regional bus companies such as Connexxion, EBS, and Transdev connect Amsterdam with surrounding towns and key visitor destinations in the wider region (for example the Waterland villages, Zaanse Schans, and Schiphol Airport). For visitors and commuters, the Amsterdam & Region Travel Ticket provides integrated access to these services across operators. The result is a bus stop pattern that is strongly shaped by inter-operator coordination and the presence of multiple overlapping modes.\n\n\n\n Image source: The China Journey ‚Äì Shanghai travel guide\nShanghai‚Äôs bus network is large, multi-operator, and highly differentiated. More than ten bus companies operate roughly 1,600 routes that link the dense central districts with rapidly expanding suburban areas. Regular urban lines are numbered (roughly from 1 to the 900s), while additional labels distinguish cross-river and tunnel services, district and suburban routes, night buses, peak-hour express lines, and local shuttle services designed to solve the ‚Äúlast-kilometre‚Äù connection to metro stations and between major roads and residential communities. On most inner-city routes, stop announcements are made in Mandarin, Shanghainese, and English, reflecting the city‚Äôs multilingual context. This complex operational structure contributes to a very dense but spatially heterogeneous pattern of bus stops.\nThe cities were selected for three main reasons:\n\nDiverse planning and transit models\n\nNew York City represents a large, polycentric North American metropolis with a long history of high-capacity transit (subway, commuter rail) and a dense but uneven bus network.\n\nSingapore is a compact city-state with a strongly integrated public transport system, where bus routes are carefully coordinated with the MRT network and land-use planning.\n\nAmsterdam exemplifies a European approach to sustainable mobility, with a combination of rail, tram, bus, and high levels of walking and cycling.\n\nShanghai is a rapidly developed megacity where metro expansion and bus network restructuring have taken place at remarkable speed over the last two decades.\n\nThese contrasting contexts offer a natural laboratory for exploring how bus stop patterns emerge under different planning paradigms.\nVariation in open data and data sources\nThe four cities also differ in how transit and boundary data are made available:\n\nNew York City and Singapore provide rich, curated datasets via open data portals.\n\nAmsterdam publishes detailed administrative boundaries, while bus stops are obtained from OpenStreetMap.\n\nShanghai lacks comprehensive official open transit data, so OpenStreetMap, via the Overpass API, is used as the main bus stop source, and Simplemaps is used for municipal boundaries.\n\nThis mix reflects the reality that urban researchers often rely on a combination of official and volunteered geographic information (VGI).\nComparability as large global cities\nAll four are large, economically significant cities with extensive public transport systems and substantial daily ridership. Comparing bus stop accessibility across them therefore speaks to broader questions about global urban mobility and spatial justice, rather than to small idiosyncratic cases."
  },
  {
    "objectID": "website/index.html#research-questions-and-objectives",
    "href": "website/index.html#research-questions-and-objectives",
    "title": "Global Bus Accessibility Analysis",
    "section": "",
    "text": "The analysis is guided by four main questions:\n\nHow dense are bus stop networks in each city?\n\nWhat share of the urban area lies within a walkable distance (500 m) of a bus stop?\n\nHow are bus stops spatially distributed ‚Äì clustered, even, or irregular ‚Äì as reflected in kernel density surfaces and nearest-neighbour distances?\n\nHow might differences in planning approaches and data environments help explain the observed patterns?\n\nThe objectives are:\n\nTo construct a transparent and reproducible geospatial workflow for analysing bus accessibility using open-source Python tools.\n\nTo produce comparable indicators of bus stop density, walking coverage, and spatial regularity across the four cities.\n\nTo generate maps and summary statistics that can support discussions on transit equity, network design, and the role of open data in urban research."
  },
  {
    "objectID": "website/index.html#relation-to-urban-planning-and-policy",
    "href": "website/index.html#relation-to-urban-planning-and-policy",
    "title": "Global Bus Accessibility Analysis",
    "section": "",
    "text": "Although this is a data-driven exercise, the questions are rooted in urban planning debates:\n\nEquity and inclusion ‚Äì who benefits from high levels of bus service, and which neighbourhoods remain underserved?\n\nMultimodal integration ‚Äì how do bus stop patterns complement or duplicate rail and metro networks?\n\nStreet and land-use structure ‚Äì how do built form and road layout shape feasible bus routing and stop spacing?\n\nData and governance ‚Äì how do different open data practices facilitate or constrain comparative research?\n\nThe results should be read not as a definitive performance ranking of cities, but as a spatial diagnostic that helps planners and researchers ask better questions about transit provision and access."
  },
  {
    "objectID": "website/index.html#how-to-use-this-website",
    "href": "website/index.html#how-to-use-this-website",
    "title": "Global Bus Accessibility Analysis",
    "section": "",
    "text": "The Methods page describes the data sources and geospatial methods in more detail.\n\nThe Results page summarises cross-city comparisons of density, coverage, and spatial statistics.\n\nThe Cities menu provides dedicated pages for New York City, Singapore, Amsterdam, and Shanghai, including maps and interpretive comments.\n\nThe Data Sources page documents boundary and bus stop datasets and highlights limitations.\n\nThe About page introduces the author and situates the project in a broader academic context."
  },
  {
    "objectID": "website/methods.html#data-overview",
    "href": "website/methods.html#data-overview",
    "title": "Methods",
    "section": "",
    "text": "Two main categories of spatial data are used:\n\nCity boundaries\n\nNew York City borough boundaries from NYC Open Data.\n\nSingapore 2019 Master Plan planning area boundary from data.gov.sg.\n\nAdministrative areas for Amsterdam from the Open GEO-Data Amsterdam portal.\n\nShanghai municipal boundary from Simplemaps, used as an approximate representation where official open data are not available.\n\nBus stop locations\n\nNYC bus shelters from NYC Open Data, treated as a conservative proxy for all bus stops.\n\nBus stops from the Land Transport Authority (LTA) via data.gov.sg for Singapore.\n\nBus stops tagged as highway=bus_stop in OpenStreetMap, retrieved via the Overpass API for Amsterdam and Shanghai.\n\n\nThe mix of official and volunteered geographic information reflects a typical situation in comparative urban research, where fully harmonised datasets seldom exist."
  },
  {
    "objectID": "website/methods.html#pre-processing-and-coordinate-systems",
    "href": "website/methods.html#pre-processing-and-coordinate-systems",
    "title": "Methods",
    "section": "",
    "text": "All datasets are first converted to WGS84 geographic coordinates (EPSG:4326). For distance and area calculations, each city is then reprojected into a suitable projected coordinate reference system:\n\nNew York City and Shanghai ‚Äì EPSG:3857 (Web Mercator)\n\nSingapore ‚Äì EPSG:3414 (SVY21 / Singapore TM)\n\nAmsterdam ‚Äì EPSG:28992 (Amersfoort / RD New)\n\nUsing an appropriate metric CRS ensures that area and distance calculations (e.g., buffer radii, nearest-neighbour distances) are interpretable in metres and square kilometres.\n\n\n\nCity boundaries often contain small topological artefacts (e.g.¬†slivers, self-intersections). Boundaries are therefore:\n\nExploded into individual polygons,\n\nBuffered by 0 m to repair common geometry issues,\n\nMerged into a single multipolygon per city.\n\nFor Shanghai, multiple polygons represent the municipality (including distant islands). To focus on the main urban area, polygons are split and the polygon containing the largest number of bus stops is selected. This heuristic retains the core built-up region (Pudong and Puxi) and excludes peripheral islands that have very different development patterns.\n\n\n\nBus stop points are then clipped to the cleaned boundary of each city. This ensures that all subsequent indicators refer to the same spatial extent when comparing between cities."
  },
  {
    "objectID": "website/methods.html#indicators-and-analytical-steps",
    "href": "website/methods.html#indicators-and-analytical-steps",
    "title": "Methods",
    "section": "",
    "text": "Concept. Density is defined as the number of bus stops per square kilometre of city area. It is a simple but intuitive measure of the overall supply of boarding opportunities.\nImplementation.\n\nReproject the city boundary to the local metric CRS.\n\nCompute total area (A) (km¬≤).\n\nCount the number of bus stops (N) after clipping.\n\nCalculate\n\n[ = . ]\nInterpretation. High density indicates either closely spaced stops or a large number of routes, but does not directly reveal where within the city stops are concentrated. It is therefore complemented by the spatially explicit methods below.\n\n\n\nConcept. A 500 m Euclidean buffer is used as a proxy for the area within a reasonable walking distance (approximately 5‚Äì7 minutes) of a bus stop. The indicator measures the share of city land that is potentially ‚Äúbus-accessible‚Äù.\nImplementation.\n\nIn the projected CRS, create a 500 m circular buffer around each bus stop.\n\nMerge all buffers into a single coverage polygon.\n\nIntersect the merged buffer with the city boundary.\n\nCompute the ratio\n\n[ _{500m} = {}. ]\nInterpretation. A city with high 500 m coverage has few large gaps in the bus network, whereas low coverage suggests extensive areas without nearby bus stops. This indicator is sensitive both to density and to how evenly stops are spread across the urban fabric.\n\n\n\nConcept. Kernel density estimation treats bus stops as a spatial point process and estimates a continuous intensity surface: the expected number of stops per unit area at each location, smoothed over a specified bandwidth. KDE is useful for identifying clusters and corridors of high bus service.\nImplementation.\n\nExtract the projected (x, y) coordinates of all bus stops.\n\nFit a Gaussian kernel density estimator from scikit-learn with a city-specific bandwidth (chosen to reflect typical stop spacing).\n\nCreate a regular grid covering the city extent and evaluate the KDE at each grid cell.\n\nVisualise the resulting intensity surface as a heatmap and overlay the city boundary.\n\nInterpretation. KDE highlights hotspots (dense corridors, terminals, downtown areas) and cold spots (sparsely served edge zones). Comparing heatmaps across the four cities helps to understand whether high densities are concentrated in a small core or more evenly spread.\n\n\n\nConcept. While density summarises the average number of stops per area, the nearest-neighbour distance between stops captures the regularity of spacing along streets and across neighbourhoods. It is derived from point pattern analysis and relates to notions of clustering versus dispersion.\nImplementation.\n\nConstruct a KDTree from stop coordinates in the projected CRS.\n\nFor each stop, query the distance to its second-nearest neighbour (the first neighbour is the stop itself).\n\nStore this distance as nn_dist in the GeoDataFrame.\n\nSummarise the distribution (mean, median, 90th percentile, min, max) and map the nn_dist values.\n\nInterpretation.\n\nShort distances indicate tightly spaced stops or overlapping routes.\n\nLong distances indicate gaps in the network or peripheral areas.\n\nMapping nn_dist reveals whether gaps are localised (e.g.¬†industrial zones, water bodies) or widely distributed.\n\n\n\n\nThe indicators are designed to be read together:\n\nA city may have high density but still exhibit low 500 m coverage if stops are clustered in a small core.\n\nKDE highlights where in the city density is concentrated, complementing the scalar density metric.\n\nNearest-neighbour statistics reveal whether accessibility is relatively uniform or if there are pockets of poor coverage.\n\nBy juxtaposing these measures, the analysis moves beyond single-number comparisons and offers a richer picture of bus accessibility in each city."
  },
  {
    "objectID": "website/methods.html#limitations",
    "href": "website/methods.html#limitations",
    "title": "Methods",
    "section": "",
    "text": "Several limitations should be kept in mind:\n\nData completeness and definitions. NYC bus shelters undercount all bus stops; OpenStreetMap coverage for Amsterdam and Shanghai may be incomplete or heterogeneous.\n\nEuclidean distance approximation. The 500 m buffers do not follow the street network, so they may overestimate effective walking access in areas with barriers (motorways, rivers).\n\nTemporal dynamics. Service frequency, operating hours, and route patterns are not modelled; the analysis focuses on the spatial geometry of bus stops at a single point in time.\n\nDespite these caveats, the methods provide a transparent and replicable framework for comparing bus accessibility across very different urban contexts."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Global Bus Accessibility Analysis",
    "section": "",
    "text": "Public transport accessibility is a central concern in contemporary urban planning. A dense and well-distributed bus network can reduce car dependence, support social equity, and connect residents to jobs, education, and essential services. At the same time, many large cities worldwide are facing pressures from rapid urbanisation, climate change, and increasing socio-spatial inequality. Understanding where bus services are abundant ‚Äì and where gaps remain ‚Äì is therefore both a technical and a normative question.\nThis project investigates bus stop accessibility in four major metropolitan areas:\n\nNew York City (USA)\n\nSingapore\n\nAmsterdam (Netherlands)\n\nShanghai (China)\n\nTogether, these cities span different continents, governance regimes, urban forms, and data environments. Comparing them side by side allows us to see how different planning traditions and data infrastructures are reflected in the spatial patterns of bus service."
  },
  {
    "objectID": "index.html#background-and-motivation",
    "href": "index.html#background-and-motivation",
    "title": "Global Bus Accessibility Analysis",
    "section": "",
    "text": "Public transport accessibility is a central concern in contemporary urban planning. A dense and well-distributed bus network can reduce car dependence, support social equity, and connect residents to jobs, education, and essential services. At the same time, many large cities worldwide are facing pressures from rapid urbanisation, climate change, and increasing socio-spatial inequality. Understanding where bus services are abundant ‚Äì and where gaps remain ‚Äì is therefore both a technical and a normative question.\nThis project investigates bus stop accessibility in four major metropolitan areas:\n\nNew York City (USA)\n\nSingapore\n\nAmsterdam (Netherlands)\n\nShanghai (China)\n\nTogether, these cities span different continents, governance regimes, urban forms, and data environments. Comparing them side by side allows us to see how different planning traditions and data infrastructures are reflected in the spatial patterns of bus service."
  },
  {
    "objectID": "index.html#city-bus-systems-in-context",
    "href": "index.html#city-bus-systems-in-context",
    "title": "Global Bus Accessibility Analysis",
    "section": "City Bus Systems in Context",
    "text": "City Bus Systems in Context\nAlthough this project focuses on bus stop locations rather than service operations, it is important to understand the broader context of each city‚Äôs bus system. The brief profiles below summarise key features that inform the interpretation of the spatial patterns.\n\nNew York City\n\nImage source: Bloomberg ‚Äì Free NYC buses complicated by bond-paying pledge\nNew York City‚Äôs bus network is operated under MTA Regional Bus Operations (RBO), which consolidates services provided by MTA New York City Bus and MTA Bus Company. Together they form one of the largest bus systems in the world, with a fleet of over 5,000 vehicles, more than 300 routes, and many services operating 24/7. The network includes local stopping routes, limited-stop and express lines, as well as Select Bus Service corridors that approximate bus rapid transit. Historically separate operating companies ‚Äì including several private operators in Queens and express services from the outer boroughs ‚Äì have gradually been integrated into a unified fare and scheduling system. As a result, the spatial footprint of bus stops reflects both legacy private franchises and later rationalisation efforts by the MTA.\n\n\nSingapore\n\nImage source: Trapeze Group ‚Äì Bus services in Singapore\nSingapore‚Äôs bus system is highly structured and formally categorised. Routes are differentiated into trunk services linking major towns, feeder services circulating within neighbourhoods, express and peak-hour routes that skip lower-demand stops, short-trip variants of longer lines, special industrial services to Jurong and Tuas, cross-border services to Malaysia, and a range of niche services such as Resorts World Sentosa shuttles and privately operated ‚ÄúScheme B‚Äù routes. Under the Bus Contracting Model, services are organised into packages and competitively tendered to different operators, while the Land Transport Authority plans the overall network. This institutional set-up tends to produce relatively systematic spacing of stops and strong coordination between buses and the MRT network.\n\n\nAmsterdam\n\nImage source: GVB Amsterdam takes the first step with battery-electric buses\nIn Amsterdam, buses complement an already dense tram and metro system. Within the municipality, city buses are mainly operated by GVB and serve outer neighbourhoods and corridors that are not covered by tram or metro. Regional bus companies such as Connexxion, EBS, and Transdev connect Amsterdam with surrounding towns and key visitor destinations in the wider region (for example the Waterland villages, Zaanse Schans, and Schiphol Airport). For visitors and commuters, the Amsterdam & Region Travel Ticket provides integrated access to these services across operators. The result is a bus stop pattern that is strongly shaped by inter-operator coordination and the presence of multiple overlapping modes.\n\n\nShanghai\n\nImage source: The China Journey ‚Äì Shanghai travel guide\nShanghai‚Äôs bus network is large, multi-operator, and highly differentiated. More than ten bus companies operate roughly 1,600 routes that link the dense central districts with rapidly expanding suburban areas. Regular urban lines are numbered (roughly from 1 to the 900s), while additional labels distinguish cross-river and tunnel services, district and suburban routes, night buses, peak-hour express lines, and local shuttle services designed to solve the ‚Äúlast-kilometre‚Äù connection to metro stations and between major roads and residential communities. On most inner-city routes, stop announcements are made in Mandarin, Shanghainese, and English, reflecting the city‚Äôs multilingual context. This complex operational structure contributes to a very dense but spatially heterogeneous pattern of bus stops.\nThe cities were selected for three main reasons:\n\nDiverse planning and transit models\n\nNew York City represents a large, polycentric North American metropolis with a long history of high-capacity transit (subway, commuter rail) and a dense but uneven bus network.\n\nSingapore is a compact city-state with a strongly integrated public transport system, where bus routes are carefully coordinated with the MRT network and land-use planning.\n\nAmsterdam exemplifies a European approach to sustainable mobility, with a combination of rail, tram, bus, and high levels of walking and cycling.\n\nShanghai is a rapidly developed megacity where metro expansion and bus network restructuring have taken place at remarkable speed over the last two decades.\n\nThese contrasting contexts offer a natural laboratory for exploring how bus stop patterns emerge under different planning paradigms.\nVariation in open data and data sources\nThe four cities also differ in how transit and boundary data are made available:\n\nNew York City and Singapore provide rich, curated datasets via open data portals.\n\nAmsterdam publishes detailed administrative boundaries, while bus stops are obtained from OpenStreetMap.\n\nShanghai lacks comprehensive official open transit data, so OpenStreetMap, via the Overpass API, is used as the main bus stop source, and Simplemaps is used for municipal boundaries.\n\nThis mix reflects the reality that urban researchers often rely on a combination of official and volunteered geographic information (VGI).\nComparability as large global cities\nAll four are large, economically significant cities with extensive public transport systems and substantial daily ridership. Comparing bus stop accessibility across them therefore speaks to broader questions about global urban mobility and spatial justice, rather than to small idiosyncratic cases."
  },
  {
    "objectID": "index.html#research-questions-and-objectives",
    "href": "index.html#research-questions-and-objectives",
    "title": "Global Bus Accessibility Analysis",
    "section": "",
    "text": "The analysis is guided by four main questions:\n\nHow dense are bus stop networks in each city?\n\nWhat share of the urban area lies within a walkable distance (500 m) of a bus stop?\n\nHow are bus stops spatially distributed ‚Äì clustered, even, or irregular ‚Äì as reflected in kernel density surfaces and nearest-neighbour distances?\n\nHow might differences in planning approaches and data environments help explain the observed patterns?\n\nThe objectives are:\n\nTo construct a transparent and reproducible geospatial workflow for analysing bus accessibility using open-source Python tools.\n\nTo produce comparable indicators of bus stop density, walking coverage, and spatial regularity across the four cities.\n\nTo generate maps and summary statistics that can support discussions on transit equity, network design, and the role of open data in urban research."
  },
  {
    "objectID": "index.html#relation-to-urban-planning-and-policy",
    "href": "index.html#relation-to-urban-planning-and-policy",
    "title": "Global Bus Accessibility Analysis",
    "section": "",
    "text": "Although this is a data-driven exercise, the questions are rooted in urban planning debates:\n\nEquity and inclusion ‚Äì who benefits from high levels of bus service, and which neighbourhoods remain underserved?\n\nMultimodal integration ‚Äì how do bus stop patterns complement or duplicate rail and metro networks?\n\nStreet and land-use structure ‚Äì how do built form and road layout shape feasible bus routing and stop spacing?\n\nData and governance ‚Äì how do different open data practices facilitate or constrain comparative research?\n\nThe results should be read not as a definitive performance ranking of cities, but as a spatial diagnostic that helps planners and researchers ask better questions about transit provision and access."
  },
  {
    "objectID": "index.html#how-to-use-this-website",
    "href": "index.html#how-to-use-this-website",
    "title": "Global Bus Accessibility Analysis",
    "section": "",
    "text": "The Methods page describes the data sources and geospatial methods in more detail.\n\nThe Results page summarises cross-city comparisons of density, coverage, and spatial statistics.\n\nThe Cities menu provides dedicated pages for New York City, Singapore, Amsterdam, and Shanghai, including maps and interpretive comments.\n\nThe Data Sources page documents boundary and bus stop datasets and highlights limitations.\n\nThe About page introduces the author and situates the project in a broader academic context."
  },
  {
    "objectID": "website/city_ams.html",
    "href": "website/city_ams.html",
    "title": "Amsterdam",
    "section": "",
    "text": "Amsterdam‚Äôs bus stops are concentrated heavily in the central urban districts (Centrum, West, Zuid, Oost), with an additional secondary cluster around Amstelveen in the south. This produces a ‚Äúmulti-core + strip-like‚Äù distribution pattern aligned closely with the city‚Äôs spatial structure:\n\nHistoric centre (Centrum) has dense, irregular street networks, resulting in tightly packed bus stop clusters.\nExpansion districts (Zuid, West, Nieuw-West) show more grid-like patterns, reflected in more regular stop spacing.\nAmstelveen serves as a major suburban residential and commercial node, forming the second dense cluster.\n\nCompared with New York, Amsterdam lacks an ultra-dense corridor analogous to Manhattan, and instead resembles Singapore‚Äôs multi-nodal structure‚Äîalthough overall density is significantly lower due to different urban form and population patterns."
  },
  {
    "objectID": "website/city_nyc.html",
    "href": "website/city_nyc.html",
    "title": "New York City",
    "section": "",
    "text": "New York City contains 3,381 bus stops distributed across its five boroughs.\nThe spatial distribution in this map highlights several clear patterns:\n\nManhattan exhibits the highest point density, with evenly spaced stops following the street grid.\nThis pattern reflects Manhattan‚Äôs extremely high block density and intensive surface transit demand.\nBrooklyn and Queens show wide coverage but with more irregular spacing, consistent with more diverse street networks and lower building density.\nThe Bronx displays a moderate density of stops, particularly along major north‚Äìsouth corridors.\nStaten Island is much more sparsely served, aligned with its car-oriented development pattern.\n\nThese geographic differences already hint at variation in accessibility, later confirmed by the nearest-neighbour and KDE analysis."
  },
  {
    "objectID": "website/city_sg.html",
    "href": "website/city_sg.html",
    "title": "Singapore",
    "section": "",
    "text": "1. Bus stops and boundary\n\nSingapore‚Äôs bus stops are tightly concentrated within the main urbanised island. The stop pattern broadly follows the public housing new towns from Jurong in the west to Tampines and Pasir Ris in the east, with particularly dense strings of stops along the north‚Äìsouth and east‚Äìwest corridors that parallel the MRT lines.\nLarge gaps in the north-west and central part of the island coincide with the Central Catchment Nature Reserve, military training areas and low-density industrial land, rather than underserved residential neighbourhoods.\nCompared with New York City, Singapore has fewer extreme peripheral areas: almost all developable land is within a continuous urban fabric. This helps explain why Singapore records the highest bus-stop density in the comparative statistics (about 6.6 stops/km¬≤), considerably higher than New York City (~2.5 stops/km¬≤) and somewhat higher than Amsterdam (~4.7 stops/km¬≤). The morphology of a compact island city-state with strong planning control supports a finely spaced stop network.\n\n\n\n2. 500 m coverage\n\nThe 500 m buffer map shows that most urbanised parts of Singapore fall within walking distance of at least one bus stop. The estimated share of land area covered within 500 m is about 55.9%, very similar to the other three cities (roughly 55‚Äì57%). However, because large tracts of land are reserved for nature, industry or airport uses, the coverage percentage is not directly comparable to residential accessibility.\nSpatially, high coverage is seen:\n\nalong the north-south corridor from Woodlands through Yishun and Ang Mo Kio to Toa Payoh;\nacross the eastern ‚ÄúHDB heartlands‚Äù such as Bedok, Tampines and Pasir Ris;\n\nin older public housing estates and industrial areas in the west (Jurong East/West).\n\nLower coverage appears in the central water-catchment and military zones, as well as in some coastal industrial areas. These are intentional ‚Äúholes‚Äù in the network rather than service gaps.\nRelative to New York City, where coverage drops in low-density fringes and on barrier islands, Singapore‚Äôs coverage map is more contiguous across the urbanised band. This reflects the state‚Äôs planning goal of ensuring that almost all public housing estates are within a short walk of both bus services and the MRT.\n\n\n\n3. Kernel density heatmap\n\nThe kernel density heatmap reveals several high-intensity ridges of bus stop concentration:\n\na strong east‚Äìwest band from Jurong East through Clementi and Queenstown towards the Central Area;\na dense cluster in and around the traditional CBD and Orchard corridor;\nhigh densities in new towns such as Ang Mo Kio, Hougang, Bedok, Tampines and Pasir Ris.\n\nCompared with the point map, the KDE surface smooths local variation and highlights broader structural patterns: Singapore‚Äôs bus system concentrates stops along town centres, interchanges and major distributor roads, with somewhat lower intensities in industrial estates and exclusive residential enclaves.\nWhen contrasted with New York City‚Äôs KDE, Singapore appears more spatially even: rather than a single dominant spine like Manhattan, multiple ‚Äúpeaks‚Äù related to decentralised new-town centres can be seen. This is consistent with the transit-oriented land-use strategy in which each new town has its own bus interchange and commercial core, reducing the need to funnel all trips through a single CBD.\n\n\n\n4. Nearest-neighbour distances\n\nThe nearest-neighbour analysis quantifies how tightly bus stops are spaced:\n\nmean nearest-neighbour distance: ~79.7 m\n\nmedian distance: ~57.1 m\n\n90th percentile distance: ~161 m\n\nminimum distance: essentially 0 m (paired stops or loop terminals)\n\nmaximum distance: ~1.1 km\n\nThe histogram is sharply right-skewed: the majority of stops lie within 100 m of their closest neighbour, indicating a very fine mesh of services along key corridors. The spatial map shows slightly larger distances in industrial areas, expressway segments and some coastal reclamation zones, where stops are naturally more widely spaced and pedestrian access is restricted.\nCompared with the other cities, Singapore shows:\n\nmuch smaller mean and median distances than New York City (mean ‚âà 183 m, median ‚âà 108 m), reflecting closer stop spacing in a compact urban environment;\nslightly larger distances than Amsterdam, where the highly walkable inner city and tram-bus integration bring typical distances down to around 63 m mean and 39 m median;\nshorter distances than Shanghai, where the large metropolitan extent and arterial focus of services yield a mean ‚âà 91 m and a maximum above 1.2 km.\n\nOverall, the nearest-neighbour statistics support the interpretation that Singapore‚Äôs bus network provides very fine local accessibility within built-up areas, with only a small share of stops experiencing gaps greater than 200‚Äì300 m.\n\n\n\n5. Context: structure of the Singapore bus network\n\nImage source: Land Transport Authority, Singapore ‚Äì Bus Route Map.\nThe official route map helps to interpret the spatial metrics above:\n\nTrunk and express routes form long east‚Äìwest and north‚Äìsouth axes, broadly mirrored in the KDE heatmap‚Äôs high-density bands.\nFeeder services circulate within each new town, connecting housing blocks to bus interchanges and MRT stations; these explain the dense local clusters of stops and the short nearest-neighbour distances.\nUnder the Bus Contracting Model, routes are bundled into service packages and competitively tendered, but still centrally planned by the Land Transport Authority. This allows the authority to maintain relatively even geographic coverage and regular stop spacing, independent of purely commercial considerations.\n\nPlaced alongside New York City, Amsterdam and Shanghai, Singapore‚Äôs figures illustrate a particular model of high-intensity bus provision in a small, centrally governed city-state:\n\nstop density is the highest among the four cases, consistent with the emphasis on public transport as the dominant travel mode;\n500 m coverage is similar to the others, but this is achieved while a large share of land is reserved for non-urban uses, implying especially good coverage of developed land;\nnearest-neighbour distances are short but not extreme, suggesting a balance between walking convenience and operational efficiency.\n\nThese patterns reflect policy choices: a strong integration between bus and rail, systematic provision for HDB estates, and careful control of urban expansion. Together they help explain why Singapore‚Äôs bus system achieves both high spatial accessibility and relatively compact urban form."
  },
  {
    "objectID": "website/city_sh.html",
    "href": "website/city_sh.html",
    "title": "Shanghai",
    "section": "",
    "text": "The point map shows an extremely dense web of bus stops across Shanghai‚Äôs main urban area. The coverage is close to continuous in the historic Puxi core and along major corridors extending towards the south and southeast. By contrast, the western and southern edges of the polygon appear much more weakly served, with clear gaps between linear clusters of stops.\nA key data limitation is visible here. The boundary used for Shanghai comes from an open-data administrative layer that includes substantial areas of water, port land, industrial space and peri-urban green space. In addition, the polygon only represents the main built-up municipality, not the outer islands such as Chongming or Changxing. In the processing pipeline, only the polygon containing the largest number of bus stops was retained as the ‚Äúcity‚Äù boundary, in order to make Shanghai comparable with the other cities‚Äô compact urban footprints.\nThis choice has two implications:\n\nSome land inside the boundary is not actually urbanised, which dilutes density metrics (stops per km¬≤) relative to the intensity of development.\nOutlying districts and islands with their own local bus systems are excluded from the analysis, so the maps focus on the metropolitan core rather than the full municipality.\n\nThese caveats are important when interpreting the comparative results: Shanghai‚Äôs bus system appears less dense than Singapore or Amsterdam partly because its reference area is much larger and more heterogeneous."
  },
  {
    "objectID": "website/methods.html#standardising-crs",
    "href": "website/methods.html#standardising-crs",
    "title": "Methods",
    "section": "1. Standardising CRS",
    "text": "1. Standardising CRS\nAll datasets are first converted to WGS84 geographic coordinates (EPSG:4326). For distance and area calculations, each city is then reprojected into a suitable projected coordinate reference system:\n\nNew York City and Shanghai ‚Äì EPSG:3857 (Web Mercator)\n\nSingapore ‚Äì EPSG:3414 (SVY21 / Singapore TM)\n\nAmsterdam ‚Äì EPSG:28992 (Amersfoort / RD New)\n\nUsing an appropriate metric CRS ensures that area and distance calculations (e.g., buffer radii, nearest-neighbour distances) are interpretable in metres and square kilometres."
  },
  {
    "objectID": "website/methods.html#cleaning-and-merging-boundaries",
    "href": "website/methods.html#cleaning-and-merging-boundaries",
    "title": "Methods",
    "section": "2. Cleaning and Merging Boundaries",
    "text": "2. Cleaning and Merging Boundaries\nCity boundaries often contain small topological artefacts (e.g.¬†slivers, self-intersections). Boundaries are therefore:\n\nExploded into individual polygons,\n\nBuffered by 0 m to repair common geometry issues,\n\nMerged into a single multipolygon per city.\n\nFor Shanghai, multiple polygons represent the municipality (including distant islands). To focus on the main urban area, polygons are split and the polygon containing the largest number of bus stops is selected. This heuristic retains the core built-up region (Pudong and Puxi) and excludes peripheral islands that have very different development patterns."
  },
  {
    "objectID": "website/methods.html#clipping-bus-stops-to-city-boundaries",
    "href": "website/methods.html#clipping-bus-stops-to-city-boundaries",
    "title": "Methods",
    "section": "3. Clipping Bus Stops to City Boundaries",
    "text": "3. Clipping Bus Stops to City Boundaries\nBus stop points are then clipped to the cleaned boundary of each city. This ensures that all subsequent indicators refer to the same spatial extent when comparing between cities."
  },
  {
    "objectID": "website/methods.html#bus-stop-density",
    "href": "website/methods.html#bus-stop-density",
    "title": "Methods",
    "section": "1. Bus Stop Density",
    "text": "1. Bus Stop Density\nConcept. Density is defined as the number of bus stops per square kilometre of city area. It is a simple but intuitive measure of the overall supply of boarding opportunities.\nImplementation.\n\nReproject the city boundary to the local metric CRS.\n\nCompute total area (A) (km¬≤).\n\nCount the number of bus stops (N) after clipping.\n\nCalculate\n\n[ = . ]\nInterpretation. High density indicates either closely spaced stops or a large number of routes, but does not directly reveal where within the city stops are concentrated. It is therefore complemented by the spatially explicit methods below."
  },
  {
    "objectID": "website/methods.html#m-walking-coverage",
    "href": "website/methods.html#m-walking-coverage",
    "title": "Methods",
    "section": "2. 500 m Walking Coverage",
    "text": "2. 500 m Walking Coverage\nConcept. A 500 m Euclidean buffer is used as a proxy for the area within a reasonable walking distance (approximately 5‚Äì7 minutes) of a bus stop. The indicator measures the share of city land that is potentially ‚Äúbus-accessible‚Äù.\nImplementation.\n\nIn the projected CRS, create a 500 m circular buffer around each bus stop.\n\nMerge all buffers into a single coverage polygon.\n\nIntersect the merged buffer with the city boundary.\n\nCompute the ratio\n\n[ _{500m} = {}. ]\nInterpretation. A city with high 500 m coverage has few large gaps in the bus network, whereas low coverage suggests extensive areas without nearby bus stops. This indicator is sensitive both to density and to how evenly stops are spread across the urban fabric."
  },
  {
    "objectID": "website/methods.html#kernel-density-estimation-kde",
    "href": "website/methods.html#kernel-density-estimation-kde",
    "title": "Methods",
    "section": "3. Kernel Density Estimation (KDE)",
    "text": "3. Kernel Density Estimation (KDE)\nConcept. Kernel density estimation treats bus stops as a spatial point process and estimates a continuous intensity surface: the expected number of stops per unit area at each location, smoothed over a specified bandwidth. KDE is useful for identifying clusters and corridors of high bus service.\nImplementation.\n\nExtract the projected (x, y) coordinates of all bus stops.\n\nFit a Gaussian kernel density estimator from scikit-learn with a city-specific bandwidth (chosen to reflect typical stop spacing).\n\nCreate a regular grid covering the city extent and evaluate the KDE at each grid cell.\n\nVisualise the resulting intensity surface as a heatmap and overlay the city boundary.\n\nInterpretation. KDE highlights hotspots (dense corridors, terminals, downtown areas) and cold spots (sparsely served edge zones). Comparing heatmaps across the four cities helps to understand whether high densities are concentrated in a small core or more evenly spread."
  },
  {
    "objectID": "website/methods.html#nearest-neighbour-distances",
    "href": "website/methods.html#nearest-neighbour-distances",
    "title": "Methods",
    "section": "4. Nearest-Neighbour Distances",
    "text": "4. Nearest-Neighbour Distances\nConcept. While density summarises the average number of stops per area, the nearest-neighbour distance between stops captures the regularity of spacing along streets and across neighbourhoods. It is derived from point pattern analysis and relates to notions of clustering versus dispersion.\nImplementation.\n\nConstruct a KDTree from stop coordinates in the projected CRS.\n\nFor each stop, query the distance to its second-nearest neighbour (the first neighbour is the stop itself).\n\nStore this distance as nn_dist in the GeoDataFrame.\n\nSummarise the distribution (mean, median, 90th percentile, min, max) and map the nn_dist values.\n\nInterpretation.\n\nShort distances indicate tightly spaced stops or overlapping routes.\n\nLong distances indicate gaps in the network or peripheral areas.\n\nMapping nn_dist reveals whether gaps are localised (e.g.¬†industrial zones, water bodies) or widely distributed."
  },
  {
    "objectID": "website/methods.html#joint-interpretation-of-indicators",
    "href": "website/methods.html#joint-interpretation-of-indicators",
    "title": "Methods",
    "section": "5. Joint Interpretation of Indicators",
    "text": "5. Joint Interpretation of Indicators\nThe indicators are designed to be read together:\n\nA city may have high density but still exhibit low 500 m coverage if stops are clustered in a small core.\n\nKDE highlights where in the city density is concentrated, complementing the scalar density metric.\n\nNearest-neighbour statistics reveal whether accessibility is relatively uniform or if there are pockets of poor coverage.\n\nBy juxtaposing these measures, the analysis moves beyond single-number comparisons and offers a richer picture of bus accessibility in each city."
  },
  {
    "objectID": "website/results.html#summary-of-cross-city-insights",
    "href": "website/results.html#summary-of-cross-city-insights",
    "title": "Results",
    "section": "",
    "text": "All four cities achieve similar 500 m coverage despite large differences in stop density.\n\n\n\n\nSingapore: Regular spacing due to planned trunk‚Äìfeeder design\n\nAmsterdam: Tight spacing in compact historic fabric\n\nNYC: Bus network plays secondary role next to subway\n\nShanghai: Municipal boundaries hide large intra-city variation\n\n\n\n\nNN distance is a better indicator of street-level accessibility than raw density."
  },
  {
    "objectID": "website/city_nyc.html#manhattan-bus-network-high-density-reference",
    "href": "website/city_nyc.html#manhattan-bus-network-high-density-reference",
    "title": "New York City",
    "section": "5. Manhattan bus network (high-density reference)",
    "text": "5. Manhattan bus network (high-density reference)\n\nImage source: NYCMap360¬∞, Official Manhattan Bus Map (NYC Bus Maps).\nManhattan‚Äôs bus map illustrates why it dominates NYC‚Äôs clustering patterns:\n\nDozens of north‚Äìsouth avenues support parallel bus corridors.\nFrequent crosstown routes fill gaps between subway lines.\nThe grid structure allows extremely consistent spacing of stops ‚Äî often every 2‚Äì3 blocks (120‚Äì180 m), matching our calculated NN statistics.\n\nThis map visually reinforces the interpretation from all previous figures:\nManhattan is the core of NYC‚Äôs bus accessibility system, both in density and coverage."
  },
  {
    "objectID": "website/city_ams.html#amsterdam-bus-network-gvb-reference",
    "href": "website/city_ams.html#amsterdam-bus-network-gvb-reference",
    "title": "Amsterdam",
    "section": "5. Amsterdam bus network (GVB reference)",
    "text": "5. Amsterdam bus network (GVB reference)\n\nImage source: GVB / Amsterdam public transport ‚Äì Amsterdam Bus Network Map (via Amsterdam Map 360).\nThe official Amsterdam bus network map provides functional context not visible in point-based KDE and NN graphs.\n\n(1) The city centre forms a ‚Äúdense transit mesh‚Äù\n\nBlue bus lines form a grid within the central ring.\nOverlapping routes create high stop density ‚Üí matches KDE hotspots.\nUnlike NYC‚Äôs north‚Äìsouth corridor model (Manhattan), Amsterdam uses a radial + mesh pattern.\n\n\n\n(2) Amstelveen‚ÄìCentrum corridor stands out clearly\n\nMajor north‚Äìsouth trunk routes link Amstelveen directly to the central city.\nAligns with the strong KDE linear hotspot in the south.\n\n\n\n(3) Peripheral areas adopt ring-shaped or semi-ring connections\n\nNorth and east edges show fewer routes.\nCorresponds with weaker 500 m coverage and larger NN distances.\nThese areas have lower population density or serve industrial and waterfront functions.\n\n\n\nHow the bus network map complements our spatial metrics:\n\nKDE/NN show spatial density.\nThe lines map reveals functional connectivity.\nCombined, they demonstrate that Amsterdam‚Äôs network is:\n\nHighly dense in the centre\nMulti-nodal\nPeripheral-light\nA compact, European-style transit system"
  },
  {
    "objectID": "website/city_sh.html#shanghai-bus-network-transit-reference",
    "href": "website/city_sh.html#shanghai-bus-network-transit-reference",
    "title": "Shanghai",
    "section": "5. Shanghai bus network (transit reference)",
    "text": "5. Shanghai bus network (transit reference)\n\nImage source: Google Maps Transit ‚Äì Shanghai urban and suburban bus routes.\nThe Google Transit bus-line map complements the stop-based analysis by illustrating the route structure of Shanghai‚Äôs bus system. Several features stand out:\n\nA dense radial web centred on the inner districts of Puxi and the Hongqiao‚ÄìXujiahui‚ÄìLujiazui axis, where multiple overlapping routes follow major arterials.\nRing-like corridors roughly aligned with the inner and middle ring roads, supporting tangential movements that do not pass through the historic core.\nStrong east‚Äìwest and north‚Äìsouth trunks extending into Pudong and towards satellite towns, where routes run along major expressways and only gradually branch into local grids.\nNoticeable gaps over water and non-urban land (e.g.¬†wetlands, port zones, agricultural areas), which correspond to the empty regions seen along the edges of the analytical boundary.\n\nWhen juxtaposed with the KDE and NN maps, this line map helps explain why coverage remains high despite the low overall density of stops:\n\nThe presence of many overlapping routes in the core produces very short NN distances and high KDE values.\nOutermost corridors are long and relatively straight, with stops spaced further apart, which shows up as the long tail in the NN histogram but contributes little to the coverage ratio because many of these segments run through low-density or industrial land.\n\nCompared with other cities:\n\nShanghai‚Äôs network resembles New York‚Äôs in having strong radial trunks and some long express-like corridors, but the stop spacing is much tighter and the overall pattern is more grid-like in the inner city.\nRelative to Singapore, Shanghai exhibits less systematic trunk-feeder hierarchy and more overlapping services along the same streets, reflecting incremental service additions rather than a single island-wide redesign.\nIn contrast to Amsterdam, where tram and bus routes concentrate on a compact historic centre with clearly delimited suburbs, Shanghai‚Äôs route map illustrates the scale of its polycentric megacity, with multiple dense clusters connected by high-capacity radial lines."
  },
  {
    "objectID": "website/data_sources.html#overview-page-images",
    "href": "website/data_sources.html#overview-page-images",
    "title": "Data Sources",
    "section": "3.1 Overview page images",
    "text": "3.1 Overview page images\n\nNew York City bus photograph\nImage of an MTA bus in service, used on the ‚ÄúWhy these four cities?‚Äù page to illustrate the NYC network.\nSource: Bloomberg ‚Äì ‚ÄúFree NYC buses complicated by bond-paying pledge‚Äù.\nSingapore bus network map (image/Singapore_Lines.png)\nStylised bus route map produced by the Land Transport Authority (LTA), used to show the structure of the island-wide network.\nSource: Land Transport Authority, Singapore ‚Äì Bus Route Map.\nAmsterdam bus photograph / schematic (image/ams_bus.png)\nImage illustrating GVB-operated buses in Amsterdam.\nSource: GVB / Amsterdam public transport promotional materials.\nShanghai bus network overview (image/Shanghai_Lines.png)\nScreenshot of the bus and transit network from Google Maps Transit layer, cropped to the core urban area.\nSource: Google Maps ‚Äì Transit (Shanghai)."
  },
  {
    "objectID": "website/data_sources.html#city-profile-reference-maps",
    "href": "website/data_sources.html#city-profile-reference-maps",
    "title": "Data Sources",
    "section": "3.2 City profile reference maps",
    "text": "3.2 City profile reference maps\nEach city-specific page includes one additional reference map of the local bus system:\n\nNew York City ‚Äì Manhattan bus map\n(image/manhattan-bus-map.png)\nExtract from the official MTA Manhattan Bus Map, used as a high-density reference to explain the strong clustering of stops in Manhattan.\nSource: Metropolitan Transportation Authority (MTA) ‚Äì Official Manhattan Bus Map.\nSingapore ‚Äì island-wide bus routes\n(image/Singapore_Lines.png)\nLTA‚Äôs bus route map showing trunk corridors, expressways and cross-island links. This helps interpret the KDE results and the relatively short nearest-neighbour distances.\nSource: Land Transport Authority, Singapore ‚Äì Bus Route Map.\nAmsterdam ‚Äì GVB bus network\n(image/Amsterdam_Lines.png)\nMap of GVB bus lines in greater Amsterdam, highlighting the dense radial routes around the historic centre and links to peripheral districts such as Bijlmer and Slotervaart.\nSource: GVB / Amsterdam bus network map.\nShanghai ‚Äì Google Transit bus network\n(image/Shanghai_Lines.png)\nGoogle Transit view of Shanghai‚Äôs bus network within the main urban municipality, showing radial corridors from the inner ring roads towards the suburbs and connections to metro and railway hubs.\nSource: Google Maps ‚Äì Transit layer for Shanghai.\n\nThese contextual materials are cited to acknowledge their origin and to clarify that they serve only as visual references, while all quantitative results (densities, coverage, nearest-neighbour distances and KDE surfaces) are based exclusively on the open spatial datasets listed in Sections 1 and 2."
  }
]